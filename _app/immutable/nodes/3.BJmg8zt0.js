import{s as Z,G as _e,e as _,a as N,t as W,c as d,l as k,g as oe,b as y,f as g,m as X,d as h,v as de,i as ue,o as i,w as re,x as Q,p as me,J as he,K as ge,z as ve,A as $e,r as be,n as fe,B as Ee}from"../chunks/scheduler.BYFehk5M.js";import{S as x,i as ee,f as Se,c as U,b as L,m as V,t as j,a as z,d as J}from"../chunks/index.uhzRvtBo.js";import{e as ke,G as A,d as Te,f as ie,p as Ce,T as Fe,E as Ie}from"../chunks/TaskPanel.DC_IE9lp.js";function Ae(n,e,a){const t=n.slice();return t[9]=e[a],t}function Re(n){let e,a=A[n[9]]+"",t;return{c(){e=_("option"),t=W(a),this.h()},l(s){e=d(s,"OPTION",{});var r=k(e);t=X(r,a),r.forEach(g),this.h()},h(){e.__value=n[9],be(e,e.__value)},m(s,r){ue(s,e,r),i(e,t)},p:fe,d(s){s&&g(e)}}}function we(n){let e,a,t,s,r="Начальная позиция:",T,f,C,D,m,v,c="Алгоритм:",$,o,F,S,R,b,Y,P,q,w,E,K,I,M,te,ce=ke([A.BFS,A.IDS_RECURSIVE,A.IDS_RECURSIVE_ARRAY]),O=[];for(let l=0;l<3;l+=1)O[l]=Re(Ae(n,ce,l));function pe(l){n[7](l)}let se={interactive:!0};return n[0]!==void 0&&(se.position=n[0]),E=new Te({props:se}),_e.push(()=>Se(E,"position",pe)),{c(){e=_("main"),a=_("article"),t=_("section"),s=_("span"),s.textContent=r,T=N(),f=_("input"),D=N(),m=_("section"),v=_("span"),v.textContent=c,$=N(),o=_("select");for(let l=0;l<3;l+=1)O[l].c();F=N(),S=W(n[2]),R=N(),b=_("button"),Y=W("Добавить задачу"),q=N(),w=_("article"),U(E.$$.fragment),this.h()},l(l){e=d(l,"MAIN",{class:!0});var p=k(e);a=d(p,"ARTICLE",{class:!0});var u=k(a);t=d(u,"SECTION",{class:!0});var B=k(t);s=d(B,"SPAN",{class:!0,"data-svelte-h":!0}),oe(s)!=="svelte-1gs1uc0"&&(s.textContent=r),T=y(B),f=d(B,"INPUT",{class:!0}),B.forEach(g),D=y(u),m=d(u,"SECTION",{class:!0});var G=k(m);v=d(G,"SPAN",{class:!0,"data-svelte-h":!0}),oe(v)!=="svelte-8tvore"&&(v.textContent=c),$=y(G),o=d(G,"SELECT",{class:!0});var ae=k(o);for(let H=0;H<3;H+=1)O[H].l(ae);ae.forEach(g),G.forEach(g),F=y(u),S=X(u,n[2]),R=y(u),b=d(u,"BUTTON",{class:!0});var ne=k(b);Y=X(ne,"Добавить задачу"),ne.forEach(g),u.forEach(g),q=y(p),w=d(p,"ARTICLE",{class:!0});var le=k(w);L(E.$$.fragment,le),le.forEach(g),p.forEach(g),this.h()},h(){h(s,"class","svelte-edebo7"),f.value=C=ie(n[0]),h(f,"class","svelte-edebo7"),h(t,"class","svelte-edebo7"),h(v,"class","svelte-edebo7"),h(o,"class","svelte-edebo7"),n[1]===void 0&&de(()=>n[6].call(o)),h(m,"class","svelte-edebo7"),b.disabled=P=n[2]!=="",h(b,"class","svelte-edebo7"),h(a,"class","svelte-edebo7"),h(w,"class","svelte-edebo7"),h(e,"class","svelte-edebo7")},m(l,p){ue(l,e,p),i(e,a),i(a,t),i(t,s),i(t,T),i(t,f),i(a,D),i(a,m),i(m,v),i(m,$),i(m,o);for(let u=0;u<3;u+=1)O[u]&&O[u].m(o,null);re(o,n[1],!0),i(a,F),i(a,S),i(a,R),i(a,b),i(b,Y),i(e,q),i(e,w),V(E,w,null),I=!0,M||(te=[Q(f,"change",n[3]),Q(o,"change",n[6]),Q(b,"click",n[4])],M=!0)},p(l,[p]){(!I||p&1&&C!==(C=ie(l[0]))&&f.value!==C)&&(f.value=C),p&2&&re(o,l[1]),(!I||p&4)&&me(S,l[2]),(!I||p&4&&P!==(P=l[2]!==""))&&(b.disabled=P);const u={};!K&&p&1&&(K=!0,u.position=l[0],he(()=>K=!1)),E.$set(u)},i(l){I||(j(E.$$.fragment,l),I=!0)},o(l){z(E.$$.fragment,l),I=!1},d(l){l&&g(e),ge(O,l),J(E),M=!1,ve(te)}}}function Oe(n,e,a){const t=$e();let s=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,null],r=A.BFS,T=!0,f="";function C(c){const $=c.target;a(0,s=Ce($.value).map(o=>o||null))}function D(){t("newTask",{type:"gameOfFifteens",algorithm:r,start:s.map(c=>c||0)})}function m(){r=Ee(this),a(1,r)}function v(c){s=c,a(0,s)}return n.$$.update=()=>{if(n.$$.dirty&33){const c=new Set([null,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]);let $=1;for(let o=0;o<16;o++){const F=s[o];if(c.delete(F),F===null){$+=o/4|0;continue}for(let S=o+1;S<16;S++){const R=s[S];R!==null&&F>R&&$++}}a(5,T=$%2==0),c.size!=0?a(2,f=`Не хватает фишек: ${Array.from(c.values()).map(o=>o===null?"<пустая>":o).join(", ")}`):T?a(2,f=""):a(2,f="Нерешаемая позиция")}},[s,r,f,C,D,T,m,v]}class Ne extends x{constructor(e){super(),ee(this,e,Oe,we,Z,{})}}function ye(n){let e,a;function t(...s){return n[1](n[2],...s)}return e=new Ne({}),e.$on("newTask",t),{c(){U(e.$$.fragment)},l(s){L(e.$$.fragment,s)},m(s,r){V(e,s,r),a=!0},p(s,r){n=s},i(s){a||(j(e.$$.fragment,s),a=!0)},o(s){z(e.$$.fragment,s),a=!1},d(s){J(e,s)}}}function De(n){let e,a;return e=new Fe({props:{defaultTasks:n[0],$$slots:{default:[ye,({run:t})=>({2:t}),({run:t})=>t?4:0]},$$scope:{ctx:n}}}),{c(){U(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){V(e,t,s),a=!0},p(t,[s]){const r={};s&12&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(j(e.$$.fragment,t),a=!0)},o(t){z(e.$$.fragment,t),a=!1},d(t){J(e,t)}}}function Pe(n){const e=[];for(const t of Ie.filter(s=>s.length<20))e.push({type:"gameOfFifteens",algorithm:A.BFS,start:t.field}),e.push({type:"gameOfFifteens",algorithm:A.IDS_RECURSIVE_ARRAY,start:t.field});return[e,(t,s)=>t(s.detail)]}class Be extends x{constructor(e){super(),ee(this,e,Pe,De,Z,{})}}function Ge(n){let e,a;return e=new Be({}),{c(){U(e.$$.fragment)},l(t){L(e.$$.fragment,t)},m(t,s){V(e,t,s),a=!0},p:fe,i(t){a||(j(e.$$.fragment,t),a=!0)},o(t){z(e.$$.fragment,t),a=!1},d(t){J(e,t)}}}class je extends x{constructor(e){super(),ee(this,e,null,Ge,Z,{})}}export{je as component};
