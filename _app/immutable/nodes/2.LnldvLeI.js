var Ue=Object.defineProperty;var We=(s,e,t)=>e in s?Ue(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var oe=(s,e,t)=>We(s,typeof e!="symbol"?e+"":e,t);import{A as Ie,s as ce,e as C,b as D,d as T,f as _,O as G,j as z,i as u,v as h,P as se,F as Se,k as m,l as k,Q as pe,R as K,S as me,n as Y,T as qe,U as Ne,V as b,W as w,X as ve,Y as je,t as U,h as W,m as x,Z as Ve,r as Je,p as _e}from"../chunks/scheduler.Dxn9xBJ7.js";import{a as re,t as ee,S as fe,i as de,b as we,d as ge,m as Ce,e as Te,g as Pe,c as Fe}from"../chunks/index.eKEeyAFb.js";function ye(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function Xe(s,e){re(s,1,1,()=>{e.delete(s.key)})}function $e(s,e,t,r,l,n,a,o,c,p,i,f){let d=s.length,g=n.length,I=d;const y={};for(;I--;)y[s[I].key]=I;const V=[],O=new Map,q=new Map,$=[];for(I=g;I--;){const E=f(l,n,I),j=t(E);let N=a.get(j);N?$.push(()=>N.p(E,e)):(N=p(j,E),N.c()),O.set(j,V[I]=N),j in y&&q.set(j,Math.abs(I-y[j]))}const P=new Set,Z=new Set;function F(E){ee(E,1),E.m(o,i),a.set(E.key,E),i=E.first,g--}for(;d&&g;){const E=V[g-1],j=s[d-1],N=E.key,J=j.key;E===j?(i=E.first,d--,g--):O.has(J)?!a.has(N)||P.has(N)?F(E):Z.has(J)?d--:q.get(N)>q.get(J)?(Z.add(N),F(E)):(P.add(J),d--):(c(j,a),d--)}for(;d--;){const E=s[d];O.has(E.key)||c(E,a)}for(;g;)F(V[g-1]);return Ie($),V}function Qe(s){return new Worker(""+new URL("../workers/worker-BRhEqaXB.js",import.meta.url).href,{name:s==null?void 0:s.name})}class Ye{constructor(){oe(this,"worker");oe(this,"queue",[]);oe(this,"currentTask");oe(this,"idCounter",0);oe(this,"listeners",new Set);this.worker=this.restartWorker()}run(e){const t={taskId:this.idCounter++,task:e};return this.sendTask(t),t}cancel(e){if(this.currentTask===e)return this.restartWorker(),!0;const t=this.queue.findIndex(r=>r===e);return t==-1?!1:(this.queue.splice(t,1),this.emitEvent(e,"canceled"),!0)}addEventListener(e,t){this.listeners.add(t)}sendTask(e){if(this.queue.length||this.currentTask){this.queue.push(e);return}this.currentTask=e,this.worker.postMessage(e)}emitEvent(e,t,r){for(const l of this.listeners)l(e,t,r)}restartWorker(){return this.worker&&(this.worker.terminate(),this.currentTask&&(this.emitEvent(this.currentTask,"canceled"),this.currentTask=void 0)),this.worker=new Qe,this.worker.onmessage=e=>{var r;const t=e.data;if(((r=this.currentTask)==null?void 0:r.taskId)!==t.taskId)throw new Error("Unexpected task");if(t.status==="started"&&(t.time=performance.now()),this.emitEvent(this.currentTask,"updated",t),t.status!="started"){if(this.currentTask=this.queue.shift(),!this.currentTask)return;this.worker.postMessage(this.currentTask)}},this.worker}dispose(){this.worker.terminate()}}class Re{constructor(e,t=new De(e,this)){this.n=e,this.inverse=t}apply(e){return e+this.n}correct(){return!0}toString(){return`+${this.n}`}}class De{constructor(e,t=new Re(e,this)){this.n=e,this.inverse=t}apply(e){return e-this.n}correct(){return!0}toString(){return`-${this.n}`}}class ze{constructor(e,t=new Ze(e,this)){this.n=e,this.inverse=t}apply(e){return e*this.n}correct(){return!0}toString(){return`*${this.n}`}}class Ze{constructor(e,t=new ze(e,this)){this.n=e,this.inverse=t}apply(e){return e/this.n}correct(e){return e%this.n===0}toString(){return`/${this.n}`}}var Ee=(s=>(s[s.BFS=0]="BFS",s[s.BFS_LIST=1]="BFS_LIST",s))(Ee||{}),be=(s=>(s[s.OBJECT=0]="OBJECT",s[s.TREE=1]="TREE",s[s.HASH=2]="HASH",s))(be||{});new ze(2);new Re(3);new De(2);const Ge=[{start:1,finish:100,length:7},{start:2,finish:55,length:6},{start:2,finish:100,length:7},{start:1,finish:97,length:8},{start:2,finish:1e3,length:12},{start:2,finish:8e5,length:24},{start:2,finish:10000001,length:30}],Ke=[{start:1,finish:100,length:7},{start:2,finish:3,length:2},{start:2,finish:55,length:6},{start:2,finish:100,length:7},{start:1,finish:97,length:8},{start:2,finish:1e3,length:11},{start:3,finish:1001,length:13},{start:3,finish:3001,length:14},{start:2,finish:8e5,length:23},{start:2,finish:10000001,length:30}];function xe(s){let e,t,r,l="Начальное состояние:",n,a,o,c,p,i="Целевое состояние:",f,d,g,I,y,V="Операции: ",O,q,$="+3 *2",P,Z="+3 *2 -2",F,E,j,N="Направление поиска:",J,R,X,ne="Прямой",H,he="Обратный",Q,S,L="Добавить задачу",v,A;return{c(){e=C("main"),t=C("section"),r=C("span"),r.textContent=l,n=D(),a=C("input"),o=D(),c=C("section"),p=C("span"),p.textContent=i,f=D(),d=C("input"),g=D(),I=C("section"),y=C("span"),y.textContent=V,O=C("select"),q=C("option"),q.textContent=$,P=C("option"),P.textContent=Z,F=D(),E=C("section"),j=C("span"),j.textContent=N,J=D(),R=C("select"),X=C("option"),X.textContent=ne,H=C("option"),H.textContent=he,Q=D(),S=C("button"),S.textContent=L,this.h()},l(M){e=T(M,"MAIN",{class:!0});var B=_(e);t=T(B,"SECTION",{class:!0});var ae=_(t);r=T(ae,"SPAN",{class:!0,"data-svelte-h":!0}),G(r)!=="svelte-iio7wo"&&(r.textContent=l),n=z(ae),a=T(ae,"INPUT",{type:!0,class:!0}),ae.forEach(u),o=z(B),c=T(B,"SECTION",{class:!0});var le=_(c);p=T(le,"SPAN",{class:!0,"data-svelte-h":!0}),G(p)!=="svelte-1b27qnr"&&(p.textContent=i),f=z(le),d=T(le,"INPUT",{type:!0,class:!0}),le.forEach(u),g=z(B),I=T(B,"SECTION",{class:!0});var ue=_(I);y=T(ue,"SPAN",{class:!0,"data-svelte-h":!0}),G(y)!=="svelte-6aov60"&&(y.textContent=V),O=T(ue,"SELECT",{class:!0});var te=_(O);q=T(te,"OPTION",{"data-svelte-h":!0}),G(q)!=="svelte-mfhkae"&&(q.textContent=$),P=T(te,"OPTION",{"data-svelte-h":!0}),G(P)!=="svelte-edwsy1"&&(P.textContent=Z),te.forEach(u),ue.forEach(u),F=z(B),E=T(B,"SECTION",{class:!0});var ie=_(E);j=T(ie,"SPAN",{class:!0,"data-svelte-h":!0}),G(j)!=="svelte-ho4hbc"&&(j.textContent=N),J=z(ie),R=T(ie,"SELECT",{class:!0});var Me=_(R);X=T(Me,"OPTION",{"data-svelte-h":!0}),G(X)!=="svelte-pxzuhg"&&(X.textContent=ne),H=T(Me,"OPTION",{"data-svelte-h":!0}),G(H)!=="svelte-1gffiih"&&(H.textContent=he),Me.forEach(u),ie.forEach(u),Q=z(B),S=T(B,"BUTTON",{class:!0,"data-svelte-h":!0}),G(S)!=="svelte-1u94fjy"&&(S.textContent=L),B.forEach(u),this.h()},h(){h(r,"class","svelte-1xbjcd0"),h(a,"type","number"),h(a,"class","svelte-1xbjcd0"),h(t,"class","svelte-1xbjcd0"),h(p,"class","svelte-1xbjcd0"),h(d,"type","number"),h(d,"class","svelte-1xbjcd0"),h(c,"class","svelte-1xbjcd0"),h(y,"class","svelte-1xbjcd0"),q.__value="two",se(q,q.__value),P.__value="three",se(P,P.__value),h(O,"class","svelte-1xbjcd0"),s[0].operations===void 0&&Se(()=>s[4].call(O)),h(I,"class","svelte-1xbjcd0"),h(j,"class","svelte-1xbjcd0"),X.__value="forward",se(X,X.__value),H.__value="backward",se(H,H.__value),h(R,"class","svelte-1xbjcd0"),s[0].order===void 0&&Se(()=>s[5].call(R)),h(E,"class","svelte-1xbjcd0"),h(S,"class","svelte-1xbjcd0"),h(e,"class","svelte-1xbjcd0")},m(M,B){m(M,e,B),k(e,t),k(t,r),k(t,n),k(t,a),se(a,s[0].start),k(e,o),k(e,c),k(c,p),k(c,f),k(c,d),se(d,s[0].finish),k(e,g),k(e,I),k(I,y),k(I,O),k(O,q),k(O,P),pe(O,s[0].operations,!0),k(e,F),k(e,E),k(E,j),k(E,J),k(E,R),k(R,X),k(R,H),pe(R,s[0].order,!0),k(e,Q),k(e,S),v||(A=[K(a,"input",s[2]),K(d,"input",s[3]),K(O,"change",s[4]),K(R,"change",s[5]),K(S,"click",s[6])],v=!0)},p(M,[B]){B&1&&me(a.value)!==M[0].start&&se(a,M[0].start),B&1&&me(d.value)!==M[0].finish&&se(d,M[0].finish),B&1&&pe(O,M[0].operations),B&1&&pe(R,M[0].order)},i:Y,o:Y,d(M){M&&u(e),v=!1,Ie(A)}}}function et(s,e,t){const r={type:"numbers",algorithm:Ee.BFS_LIST,operations:"three",order:"forward",start:1,finish:10000001,set:be.HASH},l=qe();function n(){r.start=me(this.value),t(0,r)}function a(){r.finish=me(this.value),t(0,r)}function o(){r.operations=Ne(this),t(0,r)}function c(){r.order=Ne(this),t(0,r)}return[r,l,n,a,o,c,()=>l("newTask",{...r})]}class tt extends fe{constructor(e){super(),de(this,e,et,xe,ce,{})}}function st(s){let e;return{c(){e=U(s[0])},l(t){e=W(t,s[0])},m(t,r){m(t,e,r)},p(t,r){r&1&&x(e,t[0])},d(t){t&&u(e)}}}function rt(s){let e,t,r,l;return{c(){e=b("path"),t=b("path"),r=b("path"),l=b("path"),this.h()},l(n){e=w(n,"path",{stroke:!0,d:!0,fill:!0}),_(e).forEach(u),t=w(n,"path",{d:!0}),_(t).forEach(u),r=w(n,"path",{d:!0}),_(r).forEach(u),l=w(n,"path",{d:!0}),_(l).forEach(u),this.h()},h(){h(e,"stroke","none"),h(e,"d","M0 0h24v24H0z"),h(e,"fill","none"),h(t,"d","M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"),h(r,"d","M12 9v4"),h(l,"d","M12 16v.01")},m(n,a){m(n,e,a),m(n,t,a),m(n,r,a),m(n,l,a)},p:Y,d(n){n&&(u(e),u(t),u(r),u(l))}}}function nt(s){let e,t,r,l,n,a,o,c,p,i;return{c(){e=b("path"),t=b("path"),r=b("path"),l=b("path"),n=b("path"),a=b("path"),o=b("path"),c=b("path"),p=b("path"),i=b("path"),this.h()},l(f){e=w(f,"path",{stroke:!0,d:!0,fill:!0}),_(e).forEach(u),t=w(f,"path",{d:!0}),_(t).forEach(u),r=w(f,"path",{d:!0}),_(r).forEach(u),l=w(f,"path",{d:!0}),_(l).forEach(u),n=w(f,"path",{d:!0}),_(n).forEach(u),a=w(f,"path",{d:!0}),_(a).forEach(u),o=w(f,"path",{d:!0}),_(o).forEach(u),c=w(f,"path",{d:!0}),_(c).forEach(u),p=w(f,"path",{d:!0}),_(p).forEach(u),i=w(f,"path",{d:!0}),_(i).forEach(u),this.h()},h(){h(e,"stroke","none"),h(e,"d","M0 0h24v24H0z"),h(e,"fill","none"),h(t,"d","M8.56 3.69a9 9 0 0 0 -2.92 1.95"),h(r,"d","M3.69 8.56a9 9 0 0 0 -.69 3.44"),h(l,"d","M3.69 15.44a9 9 0 0 0 1.95 2.92"),h(n,"d","M8.56 20.31a9 9 0 0 0 3.44 .69"),h(a,"d","M15.44 20.31a9 9 0 0 0 2.92 -1.95"),h(o,"d","M20.31 15.44a9 9 0 0 0 .69 -3.44"),h(c,"d","M20.31 8.56a9 9 0 0 0 -1.95 -2.92"),h(p,"d","M15.44 3.69a9 9 0 0 0 -3.44 -.69"),h(i,"d","M9 12l2 2l4 -4")},m(f,d){m(f,e,d),m(f,t,d),m(f,r,d),m(f,l,d),m(f,n,d),m(f,a,d),m(f,o,d),m(f,c,d),m(f,p,d),m(f,i,d)},p:Y,d(f){f&&(u(e),u(t),u(r),u(l),u(n),u(a),u(o),u(c),u(p),u(i))}}}function at(s){let e,t,r,l,n,a,o,c,p;return{c(){e=b("path"),t=b("path"),r=b("path"),l=b("path"),n=b("path"),a=b("path"),o=b("path"),c=b("path"),p=b("path"),this.h()},l(i){e=w(i,"path",{stroke:!0,d:!0,fill:!0}),_(e).forEach(u),t=w(i,"path",{d:!0}),_(t).forEach(u),r=w(i,"path",{d:!0}),_(r).forEach(u),l=w(i,"path",{d:!0}),_(l).forEach(u),n=w(i,"path",{d:!0}),_(n).forEach(u),a=w(i,"path",{d:!0}),_(a).forEach(u),o=w(i,"path",{d:!0}),_(o).forEach(u),c=w(i,"path",{d:!0}),_(c).forEach(u),p=w(i,"path",{d:!0}),_(p).forEach(u),this.h()},h(){h(e,"stroke","none"),h(e,"d","M0 0h24v24H0z"),h(e,"fill","none"),h(t,"d","M12 6l0 -3"),h(r,"d","M16.25 7.75l2.15 -2.15"),h(l,"d","M18 12l3 0"),h(n,"d","M16.25 16.25l2.15 2.15"),h(a,"d","M12 18l0 3"),h(o,"d","M7.75 16.25l-2.15 2.15"),h(c,"d","M6 12l-3 0"),h(p,"d","M7.75 7.75l-2.15 -2.15")},m(i,f){m(i,e,f),m(i,t,f),m(i,r,f),m(i,l,f),m(i,n,f),m(i,a,f),m(i,o,f),m(i,c,f),m(i,p,f)},p:Y,d(i){i&&(u(e),u(t),u(r),u(l),u(n),u(a),u(o),u(c),u(p))}}}function lt(s){let e,t,r,l,n;return{c(){e=b("path"),t=b("path"),r=b("path"),l=b("path"),n=b("path"),this.h()},l(a){e=w(a,"path",{stroke:!0,d:!0,fill:!0}),_(e).forEach(u),t=w(a,"path",{d:!0}),_(t).forEach(u),r=w(a,"path",{d:!0}),_(r).forEach(u),l=w(a,"path",{d:!0}),_(l).forEach(u),n=w(a,"path",{d:!0}),_(n).forEach(u),this.h()},h(){h(e,"stroke","none"),h(e,"d","M0 0h24v24H0z"),h(e,"fill","none"),h(t,"d","M5 13a7 7 0 1 0 14 0a7 7 0 0 0 -14 0z"),h(r,"d","M14.5 10.5l-2.5 2.5"),h(l,"d","M17 8l1 -1"),h(n,"d","M14 3h-4")},m(a,o){m(a,e,o),m(a,t,o),m(a,r,o),m(a,l,o),m(a,n,o)},p:Y,d(a){a&&(u(e),u(t),u(r),u(l),u(n))}}}function it(s){let e,t,r;return{c(){e=b("path"),t=b("path"),r=b("path"),this.h()},l(l){e=w(l,"path",{stroke:!0,d:!0,fill:!0}),_(e).forEach(u),t=w(l,"path",{d:!0}),_(t).forEach(u),r=w(l,"path",{d:!0}),_(r).forEach(u),this.h()},h(){h(e,"stroke","none"),h(e,"d","M0 0h24v24H0z"),h(e,"fill","none"),h(t,"d","M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"),h(r,"d","M18.364 5.636l-12.728 12.728")},m(l,n){m(l,e,n),m(l,t,n),m(l,r,n)},p:Y,d(l){l&&(u(e),u(t),u(r))}}}function ut(s){let e,t,r,l,n;function a(p,i){return p[2]||p[0]==="canceled"?it:p[0]==="queued"?lt:p[0]==="started"?at:p[0]==="resolved"?nt:p[0]==="error"?rt:st}let o=a(s),c=o(s);return{c(){e=C("article"),t=b("svg"),c.c(),this.h()},l(p){e=T(p,"ARTICLE",{title:!0,style:!0});var i=_(e);t=w(i,"svg",{xmlns:!0,width:!0,height:!0,class:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var f=_(t);c.l(f),f.forEach(u),i.forEach(u),this.h()},h(){h(t,"xmlns","http://www.w3.org/2000/svg"),h(t,"width",ke),h(t,"height",ke),h(t,"class",r=ve(s[0])+" svelte-31ex68"),h(t,"viewBox","0 0 24 24"),h(t,"fill","none"),h(t,"stroke","currentColor"),h(t,"stroke-width","2"),h(t,"stroke-linecap","round"),h(t,"stroke-linejoin","round"),je(t,"hover",s[2]),h(e,"title",s[1]),h(e,"style",`width:${ke}px;height:${ke}px;`)},m(p,i){m(p,e,i),k(e,t),c.m(t,null),l||(n=[K(e,"mouseenter",s[3]),K(e,"mouseleave",s[4]),K(e,"click",s[5])],l=!0)},p(p,[i]){o===(o=a(p))&&c?c.p(p,i):(c.d(1),c=o(p),c&&(c.c(),c.m(t,null))),i&1&&r!==(r=ve(p[0])+" svelte-31ex68")&&h(t,"class",r),i&5&&je(t,"hover",p[2]),i&2&&h(e,"title",p[1])},i:Y,o:Y,d(p){p&&u(e),c.d(),l=!1,Ie(n)}}}let ke=24;function ot(s,e,t){let{value:r}=e,l="";const n=qe();let a=!1;function o(){t(2,a=r==="queued"||r==="started")}function c(){t(2,a=!1)}function p(){a&&n("cancel")}return s.$$set=i=>{"value"in i&&t(0,r=i.value)},s.$$.update=()=>{if(s.$$.dirty&1)switch(r){case"queued":t(1,l="В очереди");break;case"started":t(1,l="Вычисляем");break;case"canceled":t(1,l="Отменено");break;case"error":t(1,l="Произошла ошибка");break;case"resolved":t(1,l="Решено");break}},[r,l,a,o,c,p]}class ht extends fe{constructor(e){super(),de(this,e,ot,ut,ce,{value:0})}}function ct(s){let e;return{c(){e=U("Обратный")},l(t){e=W(t,"Обратный")},m(t,r){m(t,e,r)},d(t){t&&u(e)}}}function ft(s){let e;return{c(){e=U("Прямой")},l(t){e=W(t,"Прямой")},m(t,r){m(t,e,r)},d(t){t&&u(e)}}}function dt(s){let e,t=s[2].operations.length+"",r,l,n=s[2].nodesVisited+"",a;return{c(){e=U("Длина решения: "),r=U(t),l=U(", узлов рассмотрено: "),a=U(n)},l(o){e=W(o,"Длина решения: "),r=W(o,t),l=W(o,", узлов рассмотрено: "),a=W(o,n)},m(o,c){m(o,e,c),m(o,r,c),m(o,l,c),m(o,a,c)},p(o,c){c&4&&t!==(t=o[2].operations.length+"")&&x(r,t),c&4&&n!==(n=o[2].nodesVisited+"")&&x(a,n)},d(o){o&&(u(e),u(r),u(l),u(a))}}}function pt(s){let e;return{c(){e=U(s[3])},l(t){e=W(t,s[3])},m(t,r){m(t,e,r)},p(t,r){r&8&&x(e,t[3])},d(t){t&&u(e)}}}function Oe(s){let e,t,r=Ae(s[0].start,s[2].operations).join(`
`)+"",l;return{c(){e=C("article"),t=C("pre"),l=U(r),this.h()},l(n){e=T(n,"ARTICLE",{class:!0});var a=_(e);t=T(a,"PRE",{});var o=_(t);l=W(o,r),o.forEach(u),a.forEach(u),this.h()},h(){h(e,"class","svelte-hvr3jy")},m(n,a){m(n,e,a),k(e,t),k(t,l)},p(n,a){a&5&&r!==(r=Ae(n[0].start,n[2].operations).join(`
`)+"")&&x(l,r)},d(n){n&&u(e)}}}function _t(s){let e,t,r,l,n,a,o,c,p,i=s[0].operations==="two"?"+3, *2":"+3, *2, -2",f,d,g,I,y,V=s[0].start+"",O,q,$=s[0].finish+"",P,Z,F,E,j,N,J,R;l=new ht({props:{value:s[1]}}),l.$on("cancel",s[8]);function X(v,A){return v[0].order==="forward"?ft:ct}let ne=X(s),H=ne(s);function he(v,A){if(v[3])return pt;if(v[2])return dt}let Q=he(s),S=Q&&Q(s),L=s[5]&&s[2]&&Oe(s);return{c(){e=C("main"),t=C("article"),r=C("section"),we(l.$$.fragment),n=D(),a=C("section"),o=U(s[4]),c=D(),p=C("section"),f=U(i),d=D(),g=C("section"),H.c(),I=D(),y=C("section"),O=U(V),q=U(" → "),P=U($),Z=D(),F=C("section"),S&&S.c(),j=D(),L&&L.c(),this.h()},l(v){e=T(v,"MAIN",{class:!0});var A=_(e);t=T(A,"ARTICLE",{class:!0});var M=_(t);r=T(M,"SECTION",{class:!0});var B=_(r);ge(l.$$.fragment,B),B.forEach(u),n=z(M),a=T(M,"SECTION",{class:!0});var ae=_(a);o=W(ae,s[4]),ae.forEach(u),c=z(M),p=T(M,"SECTION",{class:!0});var le=_(p);f=W(le,i),le.forEach(u),d=z(M),g=T(M,"SECTION",{class:!0});var ue=_(g);H.l(ue),ue.forEach(u),I=z(M),y=T(M,"SECTION",{class:!0});var te=_(y);O=W(te,V),q=W(te," → "),P=W(te,$),te.forEach(u),Z=z(M),F=T(M,"SECTION",{class:!0});var ie=_(F);S&&S.l(ie),ie.forEach(u),M.forEach(u),j=z(A),L&&L.l(A),A.forEach(u),this.h()},h(){h(r,"class","svelte-hvr3jy"),h(a,"class","status svelte-hvr3jy"),h(p,"class","operations svelte-hvr3jy"),h(g,"class","direction svelte-hvr3jy"),h(y,"class","task svelte-hvr3jy"),h(F,"class","svelte-hvr3jy"),h(t,"class",E=ve(`${s[2]?"clickable":""}`)+" svelte-hvr3jy"),h(e,"class","svelte-hvr3jy")},m(v,A){m(v,e,A),k(e,t),k(t,r),Ce(l,r,null),k(t,n),k(t,a),k(a,o),k(t,c),k(t,p),k(p,f),k(t,d),k(t,g),H.m(g,null),k(t,I),k(t,y),k(y,O),k(y,q),k(y,P),k(t,Z),k(t,F),S&&S.m(F,null),k(e,j),L&&L.m(e,null),N=!0,J||(R=K(t,"click",s[6]),J=!0)},p(v,[A]){const M={};A&2&&(M.value=v[1]),l.$set(M),(!N||A&16)&&x(o,v[4]),(!N||A&1)&&i!==(i=v[0].operations==="two"?"+3, *2":"+3, *2, -2")&&x(f,i),ne!==(ne=X(v))&&(H.d(1),H=ne(v),H&&(H.c(),H.m(g,null))),(!N||A&1)&&V!==(V=v[0].start+"")&&x(O,V),(!N||A&1)&&$!==($=v[0].finish+"")&&x(P,$),Q===(Q=he(v))&&S?S.p(v,A):(S&&S.d(1),S=Q&&Q(v),S&&(S.c(),S.m(F,null))),(!N||A&4&&E!==(E=ve(`${v[2]?"clickable":""}`)+" svelte-hvr3jy"))&&h(t,"class",E),v[5]&&v[2]?L?L.p(v,A):(L=Oe(v),L.c(),L.m(e,null)):L&&(L.d(1),L=null)},i(v){N||(ee(l.$$.fragment,v),N=!0)},o(v){re(l.$$.fragment,v),N=!1},d(v){v&&u(e),Te(l),H.d(),S&&S.d(),L&&L.d(),J=!1,R()}}}function Ae(s,e){const t=[],r=Math.ceil(Math.log10(e.length));for(let l=0;l<e.length;l++){const n=e[l][0],a=Number(e[l].substring(1));let o=s;switch(n){case"+":o+=a;break;case"-":o-=a;break;case"*":o*=a;break;case"/":o/=a;break}t.push(`${(l+1).toString().padStart(r)}. ${s} ${n} ${a} = ${o}`),s=o}return t}function kt(s,e,t){let{task:r}=e,{state:l}=e,{result:n}=e,{error:a}=e,{time:o}=e,c="В очереди",p=!1;const i=()=>{n&&t(5,p=!p)};function f(d){Ve.call(this,s,d)}return s.$$set=d=>{"task"in d&&t(0,r=d.task),"state"in d&&t(1,l=d.state),"result"in d&&t(2,n=d.result),"error"in d&&t(3,a=d.error),"time"in d&&t(7,o=d.time)},s.$$.update=()=>{if(s.$$.dirty&138)if(l==="canceled")t(4,c="Отменено");else if(o!==void 0)if(o>60*1e3){const d=o/6e4;t(4,c=`${d.toFixed(3)} мин.`)}else if(o>1e3){const d=o/1e3;t(4,c=`${d.toFixed(3)} сек.`)}else t(4,c=`${o.toFixed(2)} мсек.`);else a&&t(4,c="Ошибка")},[r,l,n,a,c,p,i,o,f]}class mt extends fe{constructor(e){super(),de(this,e,kt,_t,ce,{task:0,state:1,result:2,error:3,time:7})}}function Be(s,e,t){const r=s.slice();r[7]=e[t];const l=r[7].task.task;r[8]=l;const n=r[7].result;return r[9]=n,r}function He(s){var l,n,a,o;let e,t;function r(){return s[5](s[7])}return e=new mt({props:{task:s[8],state:s[7].state,error:((l=s[9])==null?void 0:l.status)==="error"?s[9].error:void 0,result:((n=s[9])==null?void 0:n.status)==="resolved"?s[9].result:void 0,time:((a=s[9])==null?void 0:a.status)==="resolved"?s[9].result.timeMs:((o=s[9])==null?void 0:o.status)==="started"?s[1]-s[9].time:void 0}}),e.$on("cancel",r),{c(){we(e.$$.fragment)},l(c){ge(e.$$.fragment,c)},m(c,p){Ce(e,c,p),t=!0},p(c,p){var f,d,g,I;s=c;const i={};p&4&&(i.task=s[8]),p&4&&(i.state=s[7].state),p&4&&(i.error=((f=s[9])==null?void 0:f.status)==="error"?s[9].error:void 0),p&4&&(i.result=((d=s[9])==null?void 0:d.status)==="resolved"?s[9].result:void 0),p&6&&(i.time=((g=s[9])==null?void 0:g.status)==="resolved"?s[9].result.timeMs:((I=s[9])==null?void 0:I.status)==="started"?s[1]-s[9].time:void 0),e.$set(i)},i(c){t||(ee(e.$$.fragment,c),t=!0)},o(c){re(e.$$.fragment,c),t=!1},d(c){Te(e,c)}}}function Le(s,e){let t,r,l,n=e[8].type==="numbers"&&He(e);return{key:s,first:null,c(){t=_e(),n&&n.c(),r=_e(),this.h()},l(a){t=_e(),n&&n.l(a),r=_e(),this.h()},h(){this.first=t},m(a,o){m(a,t,o),n&&n.m(a,o),m(a,r,o),l=!0},p(a,o){e=a,e[8].type==="numbers"?n?(n.p(e,o),o&4&&ee(n,1)):(n=He(e),n.c(),ee(n,1),n.m(r.parentNode,r)):n&&(Pe(),re(n,1,1,()=>{n=null}),Fe())},i(a){l||(ee(n),l=!0)},o(a){re(n),l=!1},d(a){a&&(u(t),u(r)),n&&n.d(a)}}}function vt(s){let e,t,r,l,n=[],a=new Map,o;t=new tt({}),t.$on("newTask",s[4]);let c=ye(s[2]);const p=i=>i[7].task.taskId;for(let i=0;i<c.length;i+=1){let f=Be(s,c,i),d=p(f);a.set(d,n[i]=Le(d,f))}return{c(){e=C("main"),we(t.$$.fragment),r=D(),l=C("article");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=T(i,"MAIN",{class:!0});var f=_(e);ge(t.$$.fragment,f),r=z(f),l=T(f,"ARTICLE",{class:!0});var d=_(l);for(let g=0;g<n.length;g+=1)n[g].l(d);d.forEach(u),f.forEach(u),this.h()},h(){h(l,"class","svelte-1amkhbn"),h(e,"class","svelte-1amkhbn")},m(i,f){m(i,e,f),Ce(t,e,null),k(e,r),k(e,l);for(let d=0;d<n.length;d+=1)n[d]&&n[d].m(l,null);o=!0},p(i,[f]){f&7&&(c=ye(i[2]),Pe(),n=$e(n,f,p,1,i,c,a,l,Xe,Le,null,Be),Fe())},i(i){if(!o){ee(t.$$.fragment,i);for(let f=0;f<c.length;f+=1)ee(n[f]);o=!0}},o(i){re(t.$$.fragment,i);for(let f=0;f<n.length;f+=1)re(n[f]);o=!1},d(i){i&&u(e),Te(t);for(let f=0;f<n.length;f+=1)n[f].d()}}}function Et(s,e,t){let r,l,n,a=[];function o(i){a.push({task:r.run(i),state:"queued"}),t(2,a)}return Je(()=>{t(0,r=new Ye),n=setInterval(()=>{t(1,l=performance.now())},1e3/30),r.addEventListener("taskStatusUpdated",(i,f,d)=>{const g=a.find(I=>I.task.taskId===i.taskId);if(g){switch(f){case"updated":if(!d)return;g.state=d==null?void 0:d.status,g.result=d;break;case"canceled":g.state="canceled";break}t(2,a)}});for(const i of Ge)o({type:"numbers",algorithm:Ee.BFS_LIST,operations:"two",order:"forward",start:i.start,finish:i.finish,set:be.HASH});for(const i of Ke)o({type:"numbers",algorithm:Ee.BFS_LIST,operations:"three",order:"forward",start:i.start,finish:i.finish,set:be.HASH});return()=>{r.dispose(),clearInterval(n)}}),[r,l,a,o,i=>o(i.detail),i=>r.cancel(i.task)]}class bt extends fe{constructor(e){super(),de(this,e,Et,vt,ce,{})}}function wt(s){let e,t;return e=new bt({}),{c(){we(e.$$.fragment)},l(r){ge(e.$$.fragment,r)},m(r,l){Ce(e,r,l),t=!0},p:Y,i(r){t||(ee(e.$$.fragment,r),t=!0)},o(r){re(e.$$.fragment,r),t=!1},d(r){Te(e,r)}}}class Mt extends fe{constructor(e){super(),de(this,e,null,wt,ce,{})}}export{Mt as component};
