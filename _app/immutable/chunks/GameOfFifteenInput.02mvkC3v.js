import{s as St,C as gt,e as n,a as C,t as k,c,l as _,g as w,b as m,f as h,m as F,d as i,v as rt,i as Qe,o as e,w as be,x as Ne,D as jt,p as fe,E as ut,z as At,A as Tt,r as dt,n as Ct,B as ht}from"./scheduler.nTZMSN2v.js";import{S as bt,i as Nt,e as It,c as Ot,a as Pt,m as kt,t as Ft,b as Dt,d as Rt}from"./index.DZT1bbbT.js";import{e as ft,G as D,H as Lt,a as Mt,f as _t,p as vt,N as pt,b as Ht}from"./TaskPanel.CDRItn-E.js";function wt(s,l,a){const u=s.slice();return u[7]=l[a],u}function Gt(s,l,a){const u=s.slice();return u[17]=l[a],u}function Bt(s){let l,a=D[s[17]]+"",u;return{c(){l=n("option"),u=k(a),this.h()},l(o){l=c(o,"OPTION",{});var d=_(l);u=F(d,a),d.forEach(h),this.h()},h(){l.__value=s[17],dt(l,l.__value)},m(o,d){Qe(o,l,d),e(l,u)},p:Ct,d(o){o&&h(l)}}}function qt(s){let l,a=s[7].substring(9)+"",u;return{c(){l=n("option"),u=k(a),this.h()},l(o){l=c(o,"OPTION",{title:!0});var d=_(l);u=F(d,a),d.forEach(h),this.h()},h(){l.__value=s[7],dt(l,l.__value),i(l,"title",Ht[s[7]])},m(o,d){Qe(o,l,d),e(l,u)},p:Ct,d(o){o&&h(l)}}}function zt(s){let l,a,u,o,d="Начальная позиция:",G,g,I,j,N,O,ne="Алгоритм:",ce,A,oe,P,R,E="Эвристика:",L,r,B,y,T,Ie,_e,Oe,$,M,Pe,ke,p,ee,Ve="Эвристики",Fe,q,J,We="Не на своих местах:",De,te,ie=s[1].heuristicCount()+"",ve,Re,z,K,Xe="Манхэттенское расстояние:",Le,se,re=s[1].heuristicManhattan()+"",pe,Me,U,Q,Ye="Линейные и столбцовые конфликты:",He,V,we,ue=s[5]-s[4]+"",de,Ge,W,X,Ze="Угловые конфликты:",Y,Be,he=s[6]-s[5]+"",Ce,qe,Z,xe='<div class="legend svelte-1jeh0cs"><div class="rowConflict svelte-1jeh0cs">Линейный</div> <div class="colConflict svelte-1jeh0cs">Столбцовый</div> <div class="cornerConflict svelte-1jeh0cs">Угловой</div></div>',ze,le,me,b,Ue,$e,mt=ft([D.BFS,D.IDS,D.A_STAR,D.IDA_STAR]),ae=[];for(let t=0;t<4;t+=1)ae[t]=Bt(Gt(s,mt,t));let et=ft(Lt),H=[];for(let t=0;t<et.length;t+=1)H[t]=qt(wt(s,et,t));function Et(t){s[13](t)}let tt={interactive:!0};return s[0]!==void 0&&(tt.position=s[0]),M=new Mt({props:tt}),gt.push(()=>It(M,"position",Et)),{c(){l=n("main"),a=n("article"),u=n("section"),o=n("span"),o.textContent=d,G=C(),g=n("input"),j=C(),N=n("section"),O=n("span"),O.textContent=ne,ce=C(),A=n("select");for(let t=0;t<4;t+=1)ae[t].c();oe=C(),P=n("section"),R=n("span"),R.textContent=E,L=C(),r=n("select");for(let t=0;t<H.length;t+=1)H[t].c();y=C(),T=n("button"),Ie=k("Добавить задачу"),Oe=C(),$=n("article"),Ot(M.$$.fragment),ke=C(),p=n("article"),ee=n("h1"),ee.textContent=Ve,Fe=C(),q=n("section"),J=n("span"),J.textContent=We,De=C(),te=n("span"),ve=k(ie),Re=C(),z=n("section"),K=n("span"),K.textContent=Xe,Le=C(),se=n("span"),pe=k(re),Me=C(),U=n("section"),Q=n("span"),Q.textContent=Ye,He=C(),V=n("span"),we=k("+"),de=k(ue),Ge=C(),W=n("section"),X=n("span"),X.textContent=Ze,Y=n("span"),Be=k("+"),Ce=k(he),qe=C(),Z=n("section"),Z.innerHTML=xe,ze=C(),le=n("section"),me=k(s[3]),this.h()},l(t){l=c(t,"MAIN",{class:!0});var v=_(l);a=c(v,"ARTICLE",{class:!0});var f=_(a);u=c(f,"SECTION",{class:!0});var Ee=_(u);o=c(Ee,"SPAN",{class:!0,"data-svelte-h":!0}),w(o)!=="svelte-1gs1uc0"&&(o.textContent=d),G=m(Ee),g=c(Ee,"INPUT",{class:!0}),Ee.forEach(h),j=m(f),N=c(f,"SECTION",{class:!0});var Se=_(N);O=c(Se,"SPAN",{class:!0,"data-svelte-h":!0}),w(O)!=="svelte-8tvore"&&(O.textContent=ne),ce=m(Se),A=c(Se,"SELECT",{class:!0});var st=_(A);for(let x=0;x<4;x+=1)ae[x].l(st);st.forEach(h),Se.forEach(h),oe=m(f),P=c(f,"SECTION",{class:!0});var ge=_(P);R=c(ge,"SPAN",{class:!0,"data-svelte-h":!0}),w(R)!=="svelte-1l33q2i"&&(R.textContent=E),L=m(ge),r=c(ge,"SELECT",{class:!0});var lt=_(r);for(let x=0;x<H.length;x+=1)H[x].l(lt);lt.forEach(h),ge.forEach(h),y=m(f),T=c(f,"BUTTON",{class:!0});var at=_(T);Ie=F(at,"Добавить задачу"),at.forEach(h),f.forEach(h),Oe=m(v),$=c(v,"ARTICLE",{class:!0});var nt=_($);Pt(M.$$.fragment,nt),nt.forEach(h),ke=m(v),p=c(v,"ARTICLE",{class:!0});var S=_(p);ee=c(S,"H1",{"data-svelte-h":!0}),w(ee)!=="svelte-14ex3eg"&&(ee.textContent=Ve),Fe=m(S),q=c(S,"SECTION",{class:!0});var je=_(q);J=c(je,"SPAN",{class:!0,"data-svelte-h":!0}),w(J)!=="svelte-jc3ivy"&&(J.textContent=We),De=m(je),te=c(je,"SPAN",{class:!0});var ct=_(te);ve=F(ct,ie),ct.forEach(h),je.forEach(h),Re=m(S),z=c(S,"SECTION",{class:!0});var Ae=_(z);K=c(Ae,"SPAN",{class:!0,"data-svelte-h":!0}),w(K)!=="svelte-17selcq"&&(K.textContent=Xe),Le=m(Ae),se=c(Ae,"SPAN",{class:!0});var ot=_(se);pe=F(ot,re),ot.forEach(h),Ae.forEach(h),Me=m(S),U=c(S,"SECTION",{class:!0});var Te=_(U);Q=c(Te,"SPAN",{class:!0,"data-svelte-h":!0}),w(Q)!=="svelte-1ecdnjb"&&(Q.textContent=Ye),He=m(Te),V=c(Te,"SPAN",{class:!0});var ye=_(V);we=F(ye,"+"),de=F(ye,ue),ye.forEach(h),Te.forEach(h),Ge=m(S),W=c(S,"SECTION",{class:!0});var Je=_(W);X=c(Je,"SPAN",{class:!0,"data-svelte-h":!0}),w(X)!=="svelte-m1kggk"&&(X.textContent=Ze),Y=c(Je,"SPAN",{class:!0});var Ke=_(Y);Be=F(Ke,"+"),Ce=F(Ke,he),Ke.forEach(h),Je.forEach(h),qe=m(S),Z=c(S,"SECTION",{class:!0,"data-svelte-h":!0}),w(Z)!=="svelte-c8468s"&&(Z.innerHTML=xe),ze=m(S),le=c(S,"SECTION",{class:!0});var it=_(le);me=F(it,s[3]),it.forEach(h),S.forEach(h),v.forEach(h),this.h()},h(){i(o,"class","svelte-1jeh0cs"),g.value=I=_t(s[0]),i(g,"class","svelte-1jeh0cs"),i(u,"class","svelte-1jeh0cs"),i(O,"class","svelte-1jeh0cs"),i(A,"class","svelte-1jeh0cs"),s[2]===void 0&&rt(()=>s[11].call(A)),i(N,"class","svelte-1jeh0cs"),i(R,"class","svelte-1jeh0cs"),r.disabled=B=s[2]!==D.IDA_STAR&&s[2]!==D.A_STAR,i(r,"class","svelte-1jeh0cs"),s[7]===void 0&&rt(()=>s[12].call(r)),i(P,"class","svelte-1jeh0cs"),T.disabled=_e=s[3]!=="",i(T,"class","svelte-1jeh0cs"),i(a,"class","svelte-1jeh0cs"),i($,"class","svelte-1jeh0cs"),i(J,"class","svelte-1jeh0cs"),i(te,"class","svelte-1jeh0cs"),i(q,"class","svelte-1jeh0cs"),i(K,"class","svelte-1jeh0cs"),i(se,"class","svelte-1jeh0cs"),i(z,"class","svelte-1jeh0cs"),i(Q,"class","svelte-1jeh0cs"),i(V,"class","svelte-1jeh0cs"),i(U,"class","svelte-1jeh0cs"),i(X,"class","svelte-1jeh0cs"),i(Y,"class","svelte-1jeh0cs"),i(W,"class","svelte-1jeh0cs"),i(Z,"class","svelte-1jeh0cs"),i(le,"class","svelte-1jeh0cs"),i(p,"class","heuristics svelte-1jeh0cs"),i(l,"class","svelte-1jeh0cs")},m(t,v){Qe(t,l,v),e(l,a),e(a,u),e(u,o),e(u,G),e(u,g),e(a,j),e(a,N),e(N,O),e(N,ce),e(N,A);for(let f=0;f<4;f+=1)ae[f]&&ae[f].m(A,null);be(A,s[2],!0),e(a,oe),e(a,P),e(P,R),e(P,L),e(P,r);for(let f=0;f<H.length;f+=1)H[f]&&H[f].m(r,null);be(r,s[7],!0),e(a,y),e(a,T),e(T,Ie),e(l,Oe),e(l,$),kt(M,$,null),e(l,ke),e(l,p),e(p,ee),e(p,Fe),e(p,q),e(q,J),e(q,De),e(q,te),e(te,ve),e(p,Re),e(p,z),e(z,K),e(z,Le),e(z,se),e(se,pe),e(p,Me),e(p,U),e(U,Q),e(U,He),e(U,V),e(V,we),e(V,de),e(p,Ge),e(p,W),e(W,X),e(W,Y),e(Y,Be),e(Y,Ce),e(p,qe),e(p,Z),e(p,ze),e(p,le),e(le,me),b=!0,Ue||($e=[Ne(g,"change",s[8]),Ne(A,"change",s[11]),Ne(r,"change",s[12]),Ne(T,"click",s[9])],Ue=!0)},p(t,[v]){(!b||v&1&&I!==(I=_t(t[0]))&&g.value!==I)&&(g.value=I),v&4&&be(A,t[2]),(!b||v&4&&B!==(B=t[2]!==D.IDA_STAR&&t[2]!==D.A_STAR))&&(r.disabled=B),v&128&&be(r,t[7]),(!b||v&8&&_e!==(_e=t[3]!==""))&&(T.disabled=_e);const f={};!Pe&&v&1&&(Pe=!0,f.position=t[0],jt(()=>Pe=!1)),M.$set(f),(!b||v&2)&&ie!==(ie=t[1].heuristicCount()+"")&&fe(ve,ie),(!b||v&2)&&re!==(re=t[1].heuristicManhattan()+"")&&fe(pe,re),(!b||v&48)&&ue!==(ue=t[5]-t[4]+"")&&fe(de,ue),(!b||v&96)&&he!==(he=t[6]-t[5]+"")&&fe(Ce,he),(!b||v&8)&&fe(me,t[3])},i(t){b||(Ft(M.$$.fragment,t),b=!0)},o(t){Dt(M.$$.fragment,t),b=!1},d(t){t&&h(l),ut(ae,t),ut(H,t),Rt(M),Ue=!1,At($e)}}}function Ut(s,l,a){const u=Tt();let o=vt("123856749ABCEDF0").map(E=>E||null),d=D.IDA_STAR,G="heuristicCornerConflict",g=!0,I="",j=pt.fromArray(o.map(E=>E||0)),N=j.heuristicManhattan(),O=j.heuristicLinearConflict(),ne=j.heuristicCornerConflict();function ce(E){const L=E.target;a(0,o=vt(L.value).map(r=>r||null))}function A(){u("newTask",{type:"gameOfFifteens",algorithm:d,heuristic:G,start:o.map(E=>E||0)})}function oe(){d=ht(this),a(2,d)}function P(){G=ht(this),a(7,G)}function R(E){o=E,a(0,o)}return s.$$.update=()=>{if(s.$$.dirty&1027){const E=new Set([null,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]);let L=1;for(let r=0;r<16;r++){const B=o[r];if(E.delete(B),B===null){L+=r/4|0;continue}for(let y=r+1;y<16;y++){const T=o[y];T!==null&&B>T&&L++}}a(10,g=L%2==0),E.size!=0?a(3,I=`Не хватает фишек: ${Array.from(E.values()).map(r=>r===null?"<пустая>":r).join(", ")}`):g?a(3,I=""):a(3,I="Нерешаемая позиция"),a(1,j=pt.fromArray(o.map(r=>r||0))),a(4,N=j.heuristicManhattan()),a(5,O=j.heuristicLinearConflict()),a(6,ne=j.heuristicCornerConflict())}},[o,j,d,I,N,O,ne,G,ce,A,g,oe,P,R]}class Qt extends bt{constructor(l){super(),Nt(this,l,Ut,zt,St,{})}}export{Qt as G};
