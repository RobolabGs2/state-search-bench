var st=Object.defineProperty;var nt=(s,e,t)=>e in s?st(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var ue=(s,e,t)=>nt(s,typeof e!="symbol"?e+"":e,t);import{B as Oe,s as pe,e as g,a as V,c as C,l as k,g as se,b as J,f as o,d,R as oe,G as De,i as v,o as _,W as Ce,S as le,T as ye,n as re,V as Je,X as je,Y as I,Z as M,_ as fe,Q as Pe,t as U,m as z,p as x,$ as Qe,h as lt,u as rt,j as at,k as it,w as ut,r as we}from"./scheduler.CNnarYU7.js";import{b as ae,t as ie,S as _e,i as ke,c as Te,a as Ie,m as Me,d as Ae,g as Xe,e as Ye}from"./index.D4A_hJtS.js";function Le(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function ot(s,e){ae(s,1,1,()=>{e.delete(s.key)})}function ct(s,e,t,n,l,a,r,i,u,c,h,f){let m=s.length,p=a.length,E=m;const b={};for(;E--;)b[s[E].key]=E;const T=[],Q=new Map,B=new Map,F=[];for(E=p;E--;){const A=f(l,a,E),P=t(A);let S=r.get(P);S?F.push(()=>S.p(A,e)):(S=c(P,A),S.c()),Q.set(P,T[E]=S),P in b&&B.set(P,Math.abs(E-b[P]))}const G=new Set,X=new Set;function q(A){ie(A,1),A.m(i,h),r.set(A.key,A),h=A.first,p--}for(;m&&p;){const A=T[p-1],P=s[m-1],S=A.key,Z=P.key;A===P?(h=A.first,m--,p--):Q.has(Z)?!r.has(S)||G.has(S)?q(A):X.has(Z)?m--:B.get(S)>B.get(Z)?(X.add(S),q(A)):(G.add(Z),m--):(u(P,r),m--)}for(;m--;){const A=s[m];Q.has(A.key)||u(A,r)}for(;p;)q(T[p-1]);return Oe(F),T}function ht(s){return new Worker(""+new URL("../workers/worker-10Raj48O.js",import.meta.url).href,{name:s==null?void 0:s.name})}class ft{constructor(){ue(this,"worker");ue(this,"queue",[]);ue(this,"currentTask");ue(this,"idCounter",0);ue(this,"listeners",new Set);this.worker=this.restartWorker()}run(e){const t={taskId:this.idCounter++,task:e};return this.sendTask(t),t}cancel(e){if(this.currentTask===e)return this.restartWorker(),!0;const t=this.queue.findIndex(n=>n===e);return t==-1?!1:(this.queue.splice(t,1),this.emitEvent(e,"canceled"),!0)}addEventListener(e,t){this.listeners.add(t)}sendTask(e){if(this.queue.length||this.currentTask){this.queue.push(e);return}this.currentTask=e,this.worker.postMessage(e)}emitEvent(e,t,n){for(const l of this.listeners)l(e,t,n)}restartWorker(){return this.worker&&(this.worker.terminate(),this.currentTask&&(this.emitEvent(this.currentTask,"canceled"),this.currentTask=void 0)),this.worker=new ht,this.worker.onmessage=e=>{var n;const t=e.data;if(((n=this.currentTask)==null?void 0:n.taskId)!==t.taskId)throw new Error("Unexpected task");if(t.status==="started"&&(t.time=performance.now()),this.emitEvent(this.currentTask,"updated",t),t.status!="started"){if(this.currentTask=this.queue.shift(),!this.currentTask)return;this.worker.postMessage(this.currentTask)}},this.worker}dispose(){this.worker.terminate()}}class Ze{constructor(e,t=new Ke(e,this)){this.n=e,this.inverse=t}apply(e){return e+this.n}correct(){return!0}toString(){return`+${this.n}`}}class Ke{constructor(e,t=new Ze(e,this)){this.n=e,this.inverse=t}apply(e){return e-this.n}correct(){return!0}toString(){return`-${this.n}`}}class Ge{constructor(e,t=new dt(e,this)){this.n=e,this.inverse=t}apply(e){return e*this.n}correct(){return!0}toString(){return`*${this.n}`}}class dt{constructor(e,t=new Ge(e,this)){this.n=e,this.inverse=t}apply(e){return e/this.n}correct(e){return e%this.n===0}toString(){return`/${this.n}`}}var $e=(s=>(s[s.BFS=0]="BFS",s[s.BFS_LIST=1]="BFS_LIST",s))($e||{}),xe=(s=>(s[s.OBJECT=0]="OBJECT",s[s.TREE=1]="TREE",s[s.HASH=2]="HASH",s))(xe||{});new Ge(2);new Ze(3);new Ke(2);const Vt=[{start:1,finish:100,length:7},{start:2,finish:55,length:6},{start:2,finish:100,length:7},{start:1,finish:97,length:8},{start:2,finish:1e3,length:12},{start:2,finish:8e5,length:24},{start:2,finish:10000001,length:30}],Jt=[{start:1,finish:100,length:7},{start:2,finish:3,length:2},{start:2,finish:55,length:6},{start:2,finish:100,length:7},{start:1,finish:97,length:8},{start:2,finish:1e3,length:11},{start:3,finish:1001,length:13},{start:3,finish:3001,length:14},{start:2,finish:8e5,length:23},{start:2,finish:10000001,length:30}];function mt(s){let e,t,n,l,a="Начальное состояние:",r,i,u,c,h,f="Целевое состояние:",m,p,E,b,T,Q="Операции: ",B,F,G="+3 *2",X,q="+3 *2 -2",A,P,S,Z="Направление поиска:",L,N,w,j="Прямой",O,te="Обратный",R,D,y="Добавить задачу",W,H,de="<h1>Условие задачи</h1> <p>Даны два целых числа, а также набор операций («прибавить 3», «умножить на 2» или  «прибавить 3», «умножить на 2» и «вычесть 2»).</p> <p>Найти минимальную последовательность операций, позволяющую получить из первого числа второе, используя поиск в ширину с разным направлением обхода</p>",ce,me;return{c(){e=g("article"),t=g("main"),n=g("section"),l=g("span"),l.textContent=a,r=V(),i=g("input"),u=V(),c=g("section"),h=g("span"),h.textContent=f,m=V(),p=g("input"),E=V(),b=g("section"),T=g("span"),T.textContent=Q,B=g("select"),F=g("option"),F.textContent=G,X=g("option"),X.textContent=q,A=V(),P=g("section"),S=g("span"),S.textContent=Z,L=V(),N=g("select"),w=g("option"),w.textContent=j,O=g("option"),O.textContent=te,R=V(),D=g("button"),D.textContent=y,W=V(),H=g("main"),H.innerHTML=de,this.h()},l($){e=C($,"ARTICLE",{class:!0});var K=k(e);t=C(K,"MAIN",{class:!0});var ee=k(t);n=C(ee,"SECTION",{class:!0});var ve=k(n);l=C(ve,"SPAN",{class:!0,"data-svelte-h":!0}),se(l)!=="svelte-iio7wo"&&(l.textContent=a),r=J(ve),i=C(ve,"INPUT",{type:!0,class:!0}),ve.forEach(o),u=J(ee),c=C(ee,"SECTION",{class:!0});var Ee=k(c);h=C(Ee,"SPAN",{class:!0,"data-svelte-h":!0}),se(h)!=="svelte-1b27qnr"&&(h.textContent=f),m=J(Ee),p=C(Ee,"INPUT",{type:!0,class:!0}),Ee.forEach(o),E=J(ee),b=C(ee,"SECTION",{class:!0});var Se=k(b);T=C(Se,"SPAN",{class:!0,"data-svelte-h":!0}),se(T)!=="svelte-6aov60"&&(T.textContent=Q),B=C(Se,"SELECT",{class:!0});var Ne=k(B);F=C(Ne,"OPTION",{"data-svelte-h":!0}),se(F)!=="svelte-mfhkae"&&(F.textContent=G),X=C(Ne,"OPTION",{"data-svelte-h":!0}),se(X)!=="svelte-edwsy1"&&(X.textContent=q),Ne.forEach(o),Se.forEach(o),A=J(ee),P=C(ee,"SECTION",{class:!0});var ge=k(P);S=C(ge,"SPAN",{class:!0,"data-svelte-h":!0}),se(S)!=="svelte-ho4hbc"&&(S.textContent=Z),L=J(ge),N=C(ge,"SELECT",{class:!0});var Be=k(N);w=C(Be,"OPTION",{"data-svelte-h":!0}),se(w)!=="svelte-pxzuhg"&&(w.textContent=j),O=C(Be,"OPTION",{"data-svelte-h":!0}),se(O)!=="svelte-1gffiih"&&(O.textContent=te),Be.forEach(o),ge.forEach(o),R=J(ee),D=C(ee,"BUTTON",{class:!0,"data-svelte-h":!0}),se(D)!=="svelte-1u94fjy"&&(D.textContent=y),ee.forEach(o),W=J(K),H=C(K,"MAIN",{class:!0,"data-svelte-h":!0}),se(H)!=="svelte-cdhxcq"&&(H.innerHTML=de),K.forEach(o),this.h()},h(){d(l,"class","svelte-mynkmm"),d(i,"type","number"),d(i,"class","svelte-mynkmm"),d(n,"class","svelte-mynkmm"),d(h,"class","svelte-mynkmm"),d(p,"type","number"),d(p,"class","svelte-mynkmm"),d(c,"class","svelte-mynkmm"),d(T,"class","svelte-mynkmm"),F.__value="two",oe(F,F.__value),X.__value="three",oe(X,X.__value),d(B,"class","svelte-mynkmm"),s[0].operations===void 0&&De(()=>s[4].call(B)),d(b,"class","svelte-mynkmm"),d(S,"class","svelte-mynkmm"),w.__value="forward",oe(w,w.__value),O.__value="backward",oe(O,O.__value),d(N,"class","svelte-mynkmm"),s[0].order===void 0&&De(()=>s[5].call(N)),d(P,"class","svelte-mynkmm"),d(D,"class","svelte-mynkmm"),d(t,"class","svelte-mynkmm"),d(H,"class","svelte-mynkmm"),d(e,"class","svelte-mynkmm")},m($,K){v($,e,K),_(e,t),_(t,n),_(n,l),_(n,r),_(n,i),oe(i,s[0].start),_(t,u),_(t,c),_(c,h),_(c,m),_(c,p),oe(p,s[0].finish),_(t,E),_(t,b),_(b,T),_(b,B),_(B,F),_(B,X),Ce(B,s[0].operations,!0),_(t,A),_(t,P),_(P,S),_(P,L),_(P,N),_(N,w),_(N,O),Ce(N,s[0].order,!0),_(t,R),_(t,D),_(e,W),_(e,H),ce||(me=[le(i,"input",s[2]),le(p,"input",s[3]),le(B,"change",s[4]),le(N,"change",s[5]),le(D,"click",s[6])],ce=!0)},p($,[K]){K&1&&ye(i.value)!==$[0].start&&oe(i,$[0].start),K&1&&ye(p.value)!==$[0].finish&&oe(p,$[0].finish),K&1&&Ce(B,$[0].operations),K&1&&Ce(N,$[0].order)},i:re,o:re,d($){$&&o(e),ce=!1,Oe(me)}}}function pt(s,e,t){const n={type:"numbers",algorithm:$e.BFS_LIST,operations:"three",order:"forward",start:1,finish:10000001,set:xe.HASH},l=Je();function a(){n.start=ye(this.value),t(0,n)}function r(){n.finish=ye(this.value),t(0,n)}function i(){n.operations=je(this),t(0,n)}function u(){n.order=je(this),t(0,n)}return[n,l,a,r,i,u,()=>l("newTask",{...n})]}class Qt extends _e{constructor(e){super(),ke(this,e,pt,mt,pe,{})}}function _t(s){let e;return{c(){e=U(s[0])},l(t){e=z(t,s[0])},m(t,n){v(t,e,n)},p(t,n){n&1&&x(e,t[0])},d(t){t&&o(e)}}}function kt(s){let e,t,n,l;return{c(){e=I("path"),t=I("path"),n=I("path"),l=I("path"),this.h()},l(a){e=M(a,"path",{stroke:!0,d:!0,fill:!0}),k(e).forEach(o),t=M(a,"path",{d:!0}),k(t).forEach(o),n=M(a,"path",{d:!0}),k(n).forEach(o),l=M(a,"path",{d:!0}),k(l).forEach(o),this.h()},h(){d(e,"stroke","none"),d(e,"d","M0 0h24v24H0z"),d(e,"fill","none"),d(t,"d","M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"),d(n,"d","M12 9v4"),d(l,"d","M12 16v.01")},m(a,r){v(a,e,r),v(a,t,r),v(a,n,r),v(a,l,r)},p:re,d(a){a&&(o(e),o(t),o(n),o(l))}}}function vt(s){let e,t,n,l,a,r,i,u,c,h;return{c(){e=I("path"),t=I("path"),n=I("path"),l=I("path"),a=I("path"),r=I("path"),i=I("path"),u=I("path"),c=I("path"),h=I("path"),this.h()},l(f){e=M(f,"path",{stroke:!0,d:!0,fill:!0}),k(e).forEach(o),t=M(f,"path",{d:!0}),k(t).forEach(o),n=M(f,"path",{d:!0}),k(n).forEach(o),l=M(f,"path",{d:!0}),k(l).forEach(o),a=M(f,"path",{d:!0}),k(a).forEach(o),r=M(f,"path",{d:!0}),k(r).forEach(o),i=M(f,"path",{d:!0}),k(i).forEach(o),u=M(f,"path",{d:!0}),k(u).forEach(o),c=M(f,"path",{d:!0}),k(c).forEach(o),h=M(f,"path",{d:!0}),k(h).forEach(o),this.h()},h(){d(e,"stroke","none"),d(e,"d","M0 0h24v24H0z"),d(e,"fill","none"),d(t,"d","M8.56 3.69a9 9 0 0 0 -2.92 1.95"),d(n,"d","M3.69 8.56a9 9 0 0 0 -.69 3.44"),d(l,"d","M3.69 15.44a9 9 0 0 0 1.95 2.92"),d(a,"d","M8.56 20.31a9 9 0 0 0 3.44 .69"),d(r,"d","M15.44 20.31a9 9 0 0 0 2.92 -1.95"),d(i,"d","M20.31 15.44a9 9 0 0 0 .69 -3.44"),d(u,"d","M20.31 8.56a9 9 0 0 0 -1.95 -2.92"),d(c,"d","M15.44 3.69a9 9 0 0 0 -3.44 -.69"),d(h,"d","M9 12l2 2l4 -4")},m(f,m){v(f,e,m),v(f,t,m),v(f,n,m),v(f,l,m),v(f,a,m),v(f,r,m),v(f,i,m),v(f,u,m),v(f,c,m),v(f,h,m)},p:re,d(f){f&&(o(e),o(t),o(n),o(l),o(a),o(r),o(i),o(u),o(c),o(h))}}}function Et(s){let e,t,n,l,a,r,i,u,c;return{c(){e=I("path"),t=I("path"),n=I("path"),l=I("path"),a=I("path"),r=I("path"),i=I("path"),u=I("path"),c=I("path"),this.h()},l(h){e=M(h,"path",{stroke:!0,d:!0,fill:!0}),k(e).forEach(o),t=M(h,"path",{d:!0}),k(t).forEach(o),n=M(h,"path",{d:!0}),k(n).forEach(o),l=M(h,"path",{d:!0}),k(l).forEach(o),a=M(h,"path",{d:!0}),k(a).forEach(o),r=M(h,"path",{d:!0}),k(r).forEach(o),i=M(h,"path",{d:!0}),k(i).forEach(o),u=M(h,"path",{d:!0}),k(u).forEach(o),c=M(h,"path",{d:!0}),k(c).forEach(o),this.h()},h(){d(e,"stroke","none"),d(e,"d","M0 0h24v24H0z"),d(e,"fill","none"),d(t,"d","M12 6l0 -3"),d(n,"d","M16.25 7.75l2.15 -2.15"),d(l,"d","M18 12l3 0"),d(a,"d","M16.25 16.25l2.15 2.15"),d(r,"d","M12 18l0 3"),d(i,"d","M7.75 16.25l-2.15 2.15"),d(u,"d","M6 12l-3 0"),d(c,"d","M7.75 7.75l-2.15 -2.15")},m(h,f){v(h,e,f),v(h,t,f),v(h,n,f),v(h,l,f),v(h,a,f),v(h,r,f),v(h,i,f),v(h,u,f),v(h,c,f)},p:re,d(h){h&&(o(e),o(t),o(n),o(l),o(a),o(r),o(i),o(u),o(c))}}}function gt(s){let e,t,n,l,a;return{c(){e=I("path"),t=I("path"),n=I("path"),l=I("path"),a=I("path"),this.h()},l(r){e=M(r,"path",{stroke:!0,d:!0,fill:!0}),k(e).forEach(o),t=M(r,"path",{d:!0}),k(t).forEach(o),n=M(r,"path",{d:!0}),k(n).forEach(o),l=M(r,"path",{d:!0}),k(l).forEach(o),a=M(r,"path",{d:!0}),k(a).forEach(o),this.h()},h(){d(e,"stroke","none"),d(e,"d","M0 0h24v24H0z"),d(e,"fill","none"),d(t,"d","M5 13a7 7 0 1 0 14 0a7 7 0 0 0 -14 0z"),d(n,"d","M14.5 10.5l-2.5 2.5"),d(l,"d","M17 8l1 -1"),d(a,"d","M14 3h-4")},m(r,i){v(r,e,i),v(r,t,i),v(r,n,i),v(r,l,i),v(r,a,i)},p:re,d(r){r&&(o(e),o(t),o(n),o(l),o(a))}}}function Ct(s){let e,t,n;return{c(){e=I("path"),t=I("path"),n=I("path"),this.h()},l(l){e=M(l,"path",{stroke:!0,d:!0,fill:!0}),k(e).forEach(o),t=M(l,"path",{d:!0}),k(t).forEach(o),n=M(l,"path",{d:!0}),k(n).forEach(o),this.h()},h(){d(e,"stroke","none"),d(e,"d","M0 0h24v24H0z"),d(e,"fill","none"),d(t,"d","M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"),d(n,"d","M18.364 5.636l-12.728 12.728")},m(l,a){v(l,e,a),v(l,t,a),v(l,n,a)},p:re,d(l){l&&(o(e),o(t),o(n))}}}function wt(s){let e,t,n,l,a;function r(c,h){return c[2]||c[0]==="canceled"?Ct:c[0]==="queued"?gt:c[0]==="started"?Et:c[0]==="resolved"?vt:c[0]==="error"?kt:_t}let i=r(s),u=i(s);return{c(){e=g("article"),t=I("svg"),u.c(),this.h()},l(c){e=C(c,"ARTICLE",{title:!0,style:!0});var h=k(e);t=M(h,"svg",{xmlns:!0,width:!0,height:!0,class:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var f=k(t);u.l(f),f.forEach(o),h.forEach(o),this.h()},h(){d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"width",be),d(t,"height",be),d(t,"class",n=fe(s[0])+" svelte-31ex68"),d(t,"viewBox","0 0 24 24"),d(t,"fill","none"),d(t,"stroke","currentColor"),d(t,"stroke-width","2"),d(t,"stroke-linecap","round"),d(t,"stroke-linejoin","round"),Pe(t,"hover",s[2]),d(e,"title",s[1]),d(e,"style",`width:${be}px;height:${be}px;`)},m(c,h){v(c,e,h),_(e,t),u.m(t,null),l||(a=[le(e,"mouseenter",s[3]),le(e,"mouseleave",s[4]),le(e,"click",s[5])],l=!0)},p(c,[h]){i===(i=r(c))&&u?u.p(c,h):(u.d(1),u=i(c),u&&(u.c(),u.m(t,null))),h&1&&n!==(n=fe(c[0])+" svelte-31ex68")&&d(t,"class",n),h&5&&Pe(t,"hover",c[2]),h&2&&d(e,"title",c[1])},i:re,o:re,d(c){c&&o(e),u.d(),l=!1,Oe(a)}}}let be=24;function bt(s,e,t){let{value:n}=e,l="";const a=Je();let r=!1;function i(){t(2,r=n==="queued"||n==="started")}function u(){t(2,r=!1)}function c(){r&&a("cancel")}return s.$$set=h=>{"value"in h&&t(0,n=h.value)},s.$$.update=()=>{if(s.$$.dirty&1)switch(n){case"queued":t(1,l="В очереди");break;case"started":t(1,l="Вычисляем");break;case"canceled":t(1,l="Отменено");break;case"error":t(1,l="Произошла ошибка");break;case"resolved":t(1,l="Решено");break}},[n,l,r,i,u,c]}class et extends _e{constructor(e){super(),ke(this,e,bt,wt,pe,{value:0})}}function yt(s){let e;return{c(){e=U("Обратный")},l(t){e=z(t,"Обратный")},m(t,n){v(t,e,n)},d(t){t&&o(e)}}}function Tt(s){let e;return{c(){e=U("Прямой")},l(t){e=z(t,"Прямой")},m(t,n){v(t,e,n)},d(t){t&&o(e)}}}function It(s){let e,t=s[2].operations.length+"",n,l,a=s[2].nodesVisited+"",r;return{c(){e=U("Длина решения: "),n=U(t),l=U(", узлов рассмотрено: "),r=U(a)},l(i){e=z(i,"Длина решения: "),n=z(i,t),l=z(i,", узлов рассмотрено: "),r=z(i,a)},m(i,u){v(i,e,u),v(i,n,u),v(i,l,u),v(i,r,u)},p(i,u){u&4&&t!==(t=i[2].operations.length+"")&&x(n,t),u&4&&a!==(a=i[2].nodesVisited+"")&&x(r,a)},d(i){i&&(o(e),o(n),o(l),o(r))}}}function Mt(s){let e;return{c(){e=U(s[3])},l(t){e=z(t,s[3])},m(t,n){v(t,e,n)},p(t,n){n&8&&x(e,t[3])},d(t){t&&o(e)}}}function Re(s){let e,t,n=He(s[0].start,s[4].operations).join(`
`)+"",l;return{c(){e=g("article"),t=g("pre"),l=U(n),this.h()},l(a){e=C(a,"ARTICLE",{class:!0});var r=k(e);t=C(r,"PRE",{});var i=k(t);l=z(i,n),i.forEach(o),r.forEach(o),this.h()},h(){d(e,"class","svelte-hvr3jy")},m(a,r){v(a,e,r),_(e,t),_(t,l)},p(a,r){r&17&&n!==(n=He(a[0].start,a[4].operations).join(`
`)+"")&&x(l,n)},d(a){a&&o(e)}}}function At(s){let e,t,n,l,a,r,i,u,c,h=s[0].operations==="two"?"+3, *2":"+3, *2, -2",f,m,p,E,b,T=s[0].start+"",Q,B,F=s[0].finish+"",G,X,q,A,P,S,Z,L;l=new et({props:{value:s[1]}}),l.$on("cancel",s[9]);function N(y,W){return y[0].order==="forward"?Tt:yt}let w=N(s),j=w(s);function O(y,W){if(y[3])return Mt;if(y[2])return It}let te=O(s),R=te&&te(s),D=s[6]&&s[2]&&Re(s);return{c(){e=g("main"),t=g("article"),n=g("section"),Te(l.$$.fragment),a=V(),r=g("section"),i=U(s[5]),u=V(),c=g("section"),f=U(h),m=V(),p=g("section"),j.c(),E=V(),b=g("section"),Q=U(T),B=U(" → "),G=U(F),X=V(),q=g("section"),R&&R.c(),P=V(),D&&D.c(),this.h()},l(y){e=C(y,"MAIN",{class:!0});var W=k(e);t=C(W,"ARTICLE",{class:!0});var H=k(t);n=C(H,"SECTION",{class:!0});var de=k(n);Ie(l.$$.fragment,de),de.forEach(o),a=J(H),r=C(H,"SECTION",{class:!0});var ce=k(r);i=z(ce,s[5]),ce.forEach(o),u=J(H),c=C(H,"SECTION",{class:!0});var me=k(c);f=z(me,h),me.forEach(o),m=J(H),p=C(H,"SECTION",{class:!0});var $=k(p);j.l($),$.forEach(o),E=J(H),b=C(H,"SECTION",{class:!0});var K=k(b);Q=z(K,T),B=z(K," → "),G=z(K,F),K.forEach(o),X=J(H),q=C(H,"SECTION",{class:!0});var ee=k(q);R&&R.l(ee),ee.forEach(o),H.forEach(o),P=J(W),D&&D.l(W),W.forEach(o),this.h()},h(){d(n,"class","svelte-hvr3jy"),d(r,"class","status svelte-hvr3jy"),d(c,"class","operations svelte-hvr3jy"),d(p,"class","direction svelte-hvr3jy"),d(b,"class","task svelte-hvr3jy"),d(q,"class","svelte-hvr3jy"),d(t,"class",A=fe(`${s[2]?"clickable":""}`)+" svelte-hvr3jy"),d(e,"class","svelte-hvr3jy")},m(y,W){v(y,e,W),_(e,t),_(t,n),Me(l,n,null),_(t,a),_(t,r),_(r,i),_(t,u),_(t,c),_(c,f),_(t,m),_(t,p),j.m(p,null),_(t,E),_(t,b),_(b,Q),_(b,B),_(b,G),_(t,X),_(t,q),R&&R.m(q,null),_(e,P),D&&D.m(e,null),S=!0,Z||(L=le(t,"click",s[7]),Z=!0)},p(y,[W]){const H={};W&2&&(H.value=y[1]),l.$set(H),(!S||W&32)&&x(i,y[5]),(!S||W&1)&&h!==(h=y[0].operations==="two"?"+3, *2":"+3, *2, -2")&&x(f,h),w!==(w=N(y))&&(j.d(1),j=w(y),j&&(j.c(),j.m(p,null))),(!S||W&1)&&T!==(T=y[0].start+"")&&x(Q,T),(!S||W&1)&&F!==(F=y[0].finish+"")&&x(G,F),te===(te=O(y))&&R?R.p(y,W):(R&&R.d(1),R=te&&te(y),R&&(R.c(),R.m(q,null))),(!S||W&4&&A!==(A=fe(`${y[2]?"clickable":""}`)+" svelte-hvr3jy"))&&d(t,"class",A),y[6]&&y[2]?D?D.p(y,W):(D=Re(y),D.c(),D.m(e,null)):D&&(D.d(1),D=null)},i(y){S||(ie(l.$$.fragment,y),S=!0)},o(y){ae(l.$$.fragment,y),S=!1},d(y){y&&o(e),Ae(l),j.d(),R&&R.d(),D&&D.d(),Z=!1,L()}}}function He(s,e){const t=[],n=Math.ceil(Math.log10(e.length));for(let l=0;l<e.length;l++){const a=e[l][0],r=Number(e[l].substring(1));let i=s;switch(a){case"+":i+=r;break;case"-":i-=r;break;case"*":i*=r;break;case"/":i/=r;break}t.push(`${(l+1).toString().padStart(n)}. ${s} ${a} ${r} = ${i}`),s=i}return t}function St(s,e,t){let{task:n}=e,{state:l}=e,{result:a}=e,{error:r}=e,{time:i}=e,u,c="В очереди",h=!1;const f=()=>{a&&t(6,h=!h)};function m(p){Qe.call(this,s,p)}return s.$$set=p=>{"task"in p&&t(0,n=p.task),"state"in p&&t(1,l=p.state),"result"in p&&t(2,a=p.result),"error"in p&&t(3,r=p.error),"time"in p&&t(8,i=p.time)},s.$$.update=()=>{if(s.$$.dirty&4&&t(4,u=a),s.$$.dirty&266)if(l==="canceled")t(5,c="Отменено");else if(i!==void 0)if(i>60*1e3){const p=i/6e4;t(5,c=`${p.toFixed(3)} мин.`)}else if(i>1e3){const p=i/1e3;t(5,c=`${p.toFixed(3)} сек.`)}else t(5,c=`${i.toFixed(2)} мсек.`);else r&&t(5,c="Ошибка")},[n,l,a,r,u,c,h,f,i,m]}class Nt extends _e{constructor(e){super(),ke(this,e,St,At,pe,{task:0,state:1,result:2,error:3,time:8})}}var tt=(s=>(s[s.UP=0]="UP",s[s.RIGHT=1]="RIGHT",s[s.DOWN=2]="DOWN",s[s.LEFT=3]="LEFT",s))(tt||{});class he{constructor(e,t){this.field=e,this.empty=t}static fromArray(e){let t=0;for(let n=0;n<16;n++)if(e[n]===0){t=n;break}return new he(e.slice(0),t)}static fromArrayUint(e){const t=new Uint8Array(16);let n=0;for(let l=0;l<16;l++)e[l]===0&&(n=l),t[l]=e[l];return new he(t,n)}canMove(e){const t=this.empty%4;switch(e){case 0:return this.empty>3;case 2:return this.empty<12;case 3:return t>0;case 1:return t<3}return!1}makeMove(e){return this.copy().makeMoveInPlace(e)}makeMoveInPlace(e){let t=this.empty;switch(e){case 0:t=this.empty-4;break;case 2:t=this.empty+4;break;case 3:t=this.empty-1;break;case 1:t=this.empty+1;break}return this.field[this.empty]=this.field[t],this.field[t]=0,this.empty=t,this}copy(){return new he(this.field.slice(0),this.empty)}hash64(){const e=this.field,t=BigInt(e[3]<<12|e[2]<<8|e[1]<<4|e[0]),n=BigInt(e[7]<<12|e[6]<<8|e[5]<<4|e[4]),l=BigInt(e[11]<<12|e[10]<<8|e[9]<<4|e[8]),a=BigInt(e[15]<<12|e[14]<<8|e[13]<<4|e[12]);return BigInt.asUintN(64,a<<48n|l<<32n|n<<16n|t)}isSolution(){if(this.empty!=15)return!1;for(let e=0;e<15;e++)if(this.field[e]!=e+1)return!1;return!0}}const ne=class ne{constructor(e,t){this.field=e,this.empty=t}static fromArray(e){let t=0;for(let l=0;l<16;l++)if(e[l]===0){t=l;break}const n=new he(e.slice(0),t);return new ne(n.hash64(),t)}canMove(e){return ne.canMove(this.empty,e)}static canMove(e,t){const n=e%4;switch(t){case 0:return e>3;case 2:return e<12;case 3:return n>0;case 1:return n<3}return!1}makeMove(e){return this.copy().makeMoveInPlace(e)}static makeMove(e,t,n){let l=t;switch(n){case 0:l=t-4;break;case 2:l=t+4;break;case 3:l=t-1;break;case 1:l=t+1;break}const a=ne.masks[l];let r=e&a;return r=r>>BigInt(l*4),r=r<<BigInt(t*4),e=e&~a|r,t=l,[e,t]}makeMoveInPlace(e){return[this.field,this.empty]=ne.makeMove(this.field,this.empty,e),this}copy(){return new ne(this.field,this.empty)}hash64(){return this.field}isSolution(){return this.field===ne.solution}};ue(ne,"masks",[]),ue(ne,"solution",new he([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0],15).hash64());let Fe=ne;for(let s=0;s<16;s++)Fe.masks[s]=0xfn<<BigInt(s*4);function Y(s){return s.padEnd(16,"0").substring(0,16).split("").map(e=>parseInt(e,16))}function qe(s){return s.map(e=>(e||0).toString(16).toUpperCase()).join("")}const Xt=[{field:Y("123456789ABCDEF0"),length:0},{field:Y("1234067859ACDEBF"),length:5},{field:Y("5134207896ACDEBF"),length:8},{field:Y("16245A3709C8DEBF"),length:10},{field:Y("1723068459ACDEBF"),length:13},{field:Y("0723168459ACDEBF"),length:14},{field:Y("7023168459ACDEBF"),length:15},{field:Y("7203168459ACDEBF"),length:16},{field:Y("7283160459ACDEBF"),length:17},{field:Y("7283106459ACDEBF"),length:18},{field:Y("12345678A0BE9FCD"),length:19},{field:Y("51247308A6BE9FCD"),length:27},{field:Y("F2345678A0BE91DC"),length:33},{field:Y("75123804A6BE9FCD"),length:35},{field:Y("75AB2C416D389F0E"),length:45},{field:Y("04582E1DF79BCA36"),length:48},{field:Y("FE169B4C0A73D852"),length:52},{field:Y("D79F2E8A45106C3B"),length:55},{field:Y("DBE87A2C91F65034"),length:58},{field:Y("BAC0F478E19623D5"),length:61}];function Bt(s){let e,t=s[2].operations.length+"",n,l,a=s[2].nodesVisited+"",r;return{c(){e=U("Длина решения: "),n=U(t),l=U(", узлов рассмотрено: "),r=U(a)},l(i){e=z(i,"Длина решения: "),n=z(i,t),l=z(i,", узлов рассмотрено: "),r=z(i,a)},m(i,u){v(i,e,u),v(i,n,u),v(i,l,u),v(i,r,u)},p(i,u){u&4&&t!==(t=i[2].operations.length+"")&&x(n,t),u&4&&a!==(a=i[2].nodesVisited+"")&&x(r,a)},d(i){i&&(o(e),o(n),o(l),o(r))}}}function Ft(s){let e;return{c(){e=U(s[3])},l(t){e=z(t,s[3])},m(t,n){v(t,e,n)},p(t,n){n&8&&x(e,t[3])},d(t){t&&o(e)}}}function Ue(s){let e,t,n=s[8](0,s[4].operations).join(`
`)+"",l;return{c(){e=g("article"),t=g("pre"),l=U(n),this.h()},l(a){e=C(a,"ARTICLE",{class:!0});var r=k(e);t=C(r,"PRE",{});var i=k(t);l=z(i,n),i.forEach(o),r.forEach(o),this.h()},h(){d(e,"class","svelte-hvr3jy")},m(a,r){v(a,e,r),_(e,t),_(t,l)},p(a,r){r&16&&n!==(n=a[8](0,a[4].operations).join(`
`)+"")&&x(l,n)},d(a){a&&o(e)}}}function Ot(s){let e,t,n,l,a,r,i,u,c,h="Пятнашки",f,m,p="BFS",E,b,T=qe(s[0].start)+"",Q,B,F,G,X,q,A,P;l=new et({props:{value:s[1]}}),l.$on("cancel",s[10]);function S(w,j){if(w[3])return Ft;if(w[2])return Bt}let Z=S(s),L=Z&&Z(s),N=s[6]&&s[2]&&Ue(s);return{c(){e=g("main"),t=g("article"),n=g("section"),Te(l.$$.fragment),a=V(),r=g("section"),i=U(s[5]),u=V(),c=g("section"),c.textContent=h,f=V(),m=g("section"),m.textContent=p,E=V(),b=g("section"),Q=U(T),B=V(),F=g("section"),L&&L.c(),X=V(),N&&N.c(),this.h()},l(w){e=C(w,"MAIN",{class:!0});var j=k(e);t=C(j,"ARTICLE",{class:!0});var O=k(t);n=C(O,"SECTION",{class:!0});var te=k(n);Ie(l.$$.fragment,te),te.forEach(o),a=J(O),r=C(O,"SECTION",{class:!0});var R=k(r);i=z(R,s[5]),R.forEach(o),u=J(O),c=C(O,"SECTION",{class:!0,"data-svelte-h":!0}),se(c)!=="svelte-o0jn4g"&&(c.textContent=h),f=J(O),m=C(O,"SECTION",{class:!0,"data-svelte-h":!0}),se(m)!=="svelte-1l94zvt"&&(m.textContent=p),E=J(O),b=C(O,"SECTION",{class:!0});var D=k(b);Q=z(D,T),D.forEach(o),B=J(O),F=C(O,"SECTION",{class:!0});var y=k(F);L&&L.l(y),y.forEach(o),O.forEach(o),X=J(j),N&&N.l(j),j.forEach(o),this.h()},h(){d(n,"class","svelte-hvr3jy"),d(r,"class","status svelte-hvr3jy"),d(c,"class","operations svelte-hvr3jy"),d(m,"class","direction svelte-hvr3jy"),d(b,"class","task svelte-hvr3jy"),d(F,"class","svelte-hvr3jy"),d(t,"class",G=fe(`${s[2]?"clickable":""}`)+" svelte-hvr3jy"),d(e,"class","svelte-hvr3jy")},m(w,j){v(w,e,j),_(e,t),_(t,n),Me(l,n,null),_(t,a),_(t,r),_(r,i),_(t,u),_(t,c),_(t,f),_(t,m),_(t,E),_(t,b),_(b,Q),_(t,B),_(t,F),L&&L.m(F,null),_(e,X),N&&N.m(e,null),q=!0,A||(P=le(t,"click",s[7]),A=!0)},p(w,[j]){const O={};j&2&&(O.value=w[1]),l.$set(O),(!q||j&32)&&x(i,w[5]),(!q||j&1)&&T!==(T=qe(w[0].start)+"")&&x(Q,T),Z===(Z=S(w))&&L?L.p(w,j):(L&&L.d(1),L=Z&&Z(w),L&&(L.c(),L.m(F,null))),(!q||j&4&&G!==(G=fe(`${w[2]?"clickable":""}`)+" svelte-hvr3jy"))&&d(t,"class",G),w[6]&&w[2]?N?N.p(w,j):(N=Ue(w),N.c(),N.m(e,null)):N&&(N.d(1),N=null)},i(w){q||(ie(l.$$.fragment,w),q=!0)},o(w){ae(l.$$.fragment,w),q=!1},d(w){w&&o(e),Ae(l),L&&L.d(),N&&N.d(),A=!1,P()}}}function Dt(s,e,t){let{task:n}=e,{state:l}=e,{result:a}=e,{error:r}=e,{time:i}=e,u,c="В очереди",h=!1;const f=()=>{a&&t(6,h=!h)};function m(E,b){const T=[],Q=Math.ceil(Math.log10(b.length));for(let B=0;B<b.length;B++){const F=tt[b[B]];T.push(`${(B+1).toString().padStart(Q)}. ${F}`)}return T}function p(E){Qe.call(this,s,E)}return s.$$set=E=>{"task"in E&&t(0,n=E.task),"state"in E&&t(1,l=E.state),"result"in E&&t(2,a=E.result),"error"in E&&t(3,r=E.error),"time"in E&&t(9,i=E.time)},s.$$.update=()=>{if(s.$$.dirty&4&&t(4,u=a),s.$$.dirty&522)if(l==="canceled")t(5,c="Отменено");else if(i!==void 0)if(i>60*1e3){const E=i/6e4;t(5,c=`${E.toFixed(3)} мин.`)}else if(i>1e3){const E=i/1e3;t(5,c=`${E.toFixed(3)} сек.`)}else t(5,c=`${i.toFixed(2)} мсек.`);else r&&t(5,c="Ошибка")},[n,l,a,r,u,c,h,f,m,i,p]}class jt extends _e{constructor(e){super(),ke(this,e,Dt,Ot,pe,{task:0,state:1,result:2,error:3,time:9})}}function ze(s,e,t){const n=s.slice();n[10]=e[t];const l=n[10].task.task;n[11]=l;const a=n[10].result;return n[12]=a,n}const Pt=s=>({}),We=s=>({run:s[3]});function Lt(s){var l,a,r,i;let e,t;function n(){return s[8](s[10])}return e=new jt({props:{task:s[11],state:s[10].state,error:((l=s[12])==null?void 0:l.status)==="error"?s[12].error:void 0,result:((a=s[12])==null?void 0:a.status)==="resolved"?s[12].result:void 0,time:((r=s[12])==null?void 0:r.status)==="resolved"?s[12].result.timeMs:((i=s[12])==null?void 0:i.status)==="started"?s[1]-s[12].time:void 0}}),e.$on("cancel",n),{c(){Te(e.$$.fragment)},l(u){Ie(e.$$.fragment,u)},m(u,c){Me(e,u,c),t=!0},p(u,c){var f,m,p,E;s=u;const h={};c&4&&(h.task=s[11]),c&4&&(h.state=s[10].state),c&4&&(h.error=((f=s[12])==null?void 0:f.status)==="error"?s[12].error:void 0),c&4&&(h.result=((m=s[12])==null?void 0:m.status)==="resolved"?s[12].result:void 0),c&6&&(h.time=((p=s[12])==null?void 0:p.status)==="resolved"?s[12].result.timeMs:((E=s[12])==null?void 0:E.status)==="started"?s[1]-s[12].time:void 0),e.$set(h)},i(u){t||(ie(e.$$.fragment,u),t=!0)},o(u){ae(e.$$.fragment,u),t=!1},d(u){Ae(e,u)}}}function Rt(s){var l,a,r,i;let e,t;function n(){return s[7](s[10])}return e=new Nt({props:{task:s[11],state:s[10].state,error:((l=s[12])==null?void 0:l.status)==="error"?s[12].error:void 0,result:((a=s[12])==null?void 0:a.status)==="resolved"?s[12].result:void 0,time:((r=s[12])==null?void 0:r.status)==="resolved"?s[12].result.timeMs:((i=s[12])==null?void 0:i.status)==="started"?s[1]-s[12].time:void 0}}),e.$on("cancel",n),{c(){Te(e.$$.fragment)},l(u){Ie(e.$$.fragment,u)},m(u,c){Me(e,u,c),t=!0},p(u,c){var f,m,p,E;s=u;const h={};c&4&&(h.task=s[11]),c&4&&(h.state=s[10].state),c&4&&(h.error=((f=s[12])==null?void 0:f.status)==="error"?s[12].error:void 0),c&4&&(h.result=((m=s[12])==null?void 0:m.status)==="resolved"?s[12].result:void 0),c&6&&(h.time=((p=s[12])==null?void 0:p.status)==="resolved"?s[12].result.timeMs:((E=s[12])==null?void 0:E.status)==="started"?s[1]-s[12].time:void 0),e.$set(h)},i(u){t||(ie(e.$$.fragment,u),t=!0)},o(u){ae(e.$$.fragment,u),t=!1},d(u){Ae(e,u)}}}function Ve(s,e){let t,n,l,a,r;const i=[Rt,Lt],u=[];function c(h,f){return h[11].type==="numbers"?0:h[11].type==="gameOfFifteens"?1:-1}return~(n=c(e))&&(l=u[n]=i[n](e)),{key:s,first:null,c(){t=we(),l&&l.c(),a=we(),this.h()},l(h){t=we(),l&&l.l(h),a=we(),this.h()},h(){this.first=t},m(h,f){v(h,t,f),~n&&u[n].m(h,f),v(h,a,f),r=!0},p(h,f){e=h;let m=n;n=c(e),n===m?~n&&u[n].p(e,f):(l&&(Xe(),ae(u[m],1,1,()=>{u[m]=null}),Ye()),~n?(l=u[n],l?l.p(e,f):(l=u[n]=i[n](e),l.c()),ie(l,1),l.m(a.parentNode,a)):l=null)},i(h){r||(ie(l),r=!0)},o(h){ae(l),r=!1},d(h){h&&(o(t),o(a)),~n&&u[n].d(h)}}}function Ht(s){let e,t,n,l=[],a=new Map,r;const i=s[6].default,u=lt(i,s,s[5],We);let c=Le(s[2]);const h=f=>f[10].task.taskId;for(let f=0;f<c.length;f+=1){let m=ze(s,c,f),p=h(m);a.set(p,l[f]=Ve(p,m))}return{c(){e=g("main"),u&&u.c(),t=V(),n=g("article");for(let f=0;f<l.length;f+=1)l[f].c();this.h()},l(f){e=C(f,"MAIN",{class:!0});var m=k(e);u&&u.l(m),t=J(m),n=C(m,"ARTICLE",{class:!0});var p=k(n);for(let E=0;E<l.length;E+=1)l[E].l(p);p.forEach(o),m.forEach(o),this.h()},h(){d(n,"class","svelte-1amkhbn"),d(e,"class","svelte-1amkhbn")},m(f,m){v(f,e,m),u&&u.m(e,null),_(e,t),_(e,n);for(let p=0;p<l.length;p+=1)l[p]&&l[p].m(n,null);r=!0},p(f,[m]){u&&u.p&&(!r||m&32)&&rt(u,i,f,f[5],r?it(i,f[5],m,Pt):at(f[5]),We),m&7&&(c=Le(f[2]),Xe(),l=ct(l,m,h,1,f,c,a,n,ot,Ve,null,ze),Ye())},i(f){if(!r){ie(u,f);for(let m=0;m<c.length;m+=1)ie(l[m]);r=!0}},o(f){ae(u,f);for(let m=0;m<l.length;m+=1)ae(l[m]);r=!1},d(f){f&&o(e),u&&u.d(f);for(let m=0;m<l.length;m+=1)l[m].d()}}}function qt(s,e,t){let{$$slots:n={},$$scope:l}=e,{defaultTasks:a=[]}=e,r,i,u,c=[];function h(p){c.push({task:r.run(p),state:"queued"}),t(2,c)}ut(()=>(t(0,r=new ft),u=setInterval(()=>{t(1,i=performance.now())},1e3/30),r.addEventListener("taskStatusUpdated",(p,E,b)=>{const T=c.find(Q=>Q.task.taskId===p.taskId);if(T){switch(E){case"updated":if(!b)return;T.state=b==null?void 0:b.status,T.result=b;break;case"canceled":T.state="canceled";break}t(2,c)}}),a.forEach(h),()=>{r.dispose(),clearInterval(u)}));const f=p=>r.cancel(p.task),m=p=>r.cancel(p.task);return s.$$set=p=>{"defaultTasks"in p&&t(4,a=p.defaultTasks),"$$scope"in p&&t(5,l=p.$$scope)},[r,i,c,h,a,l,n,f,m]}class Yt extends _e{constructor(e){super(),ke(this,e,qt,Ht,pe,{defaultTasks:4})}}export{Xt as E,Qt as N,$e as S,Yt as T,xe as a,Jt as b,Vt as c,Le as e,qe as f,Y as p};
