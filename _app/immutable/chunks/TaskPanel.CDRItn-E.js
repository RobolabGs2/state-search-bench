var Ke=Object.defineProperty;var Xe=(s,e,t)=>e in s?Ke(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var re=(s,e,t)=>Xe(s,typeof e!="symbol"?e+"":e,t);import{z as Ie,s as fe,e as j,c as F,l as m,f as h,d,i as v,n as ae,E as Ye,a as X,b as Y,X as ee,o as g,r as Se,x as ie,y as Ue,Y as C,Z as A,_ as oe,A as Ze,t as O,m as N,p as Z,$ as ze,g as Je,h as Qe,u as Ge,j as $e,k as xe,H as et,F as be}from"./scheduler.nTZMSN2v.js";import{b as x,t as $,S as ce,i as he,c as de,a as pe,m as _e,d as me,g as ye,f as De}from"./index.DZT1bbbT.js";function Ae(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function tt(s,e){x(s,1,1,()=>{e.delete(s.key)})}function st(s,e,t,i,l,n,r,a,u,c,o,f){let p=s.length,_=n.length,E=p;const y={};for(;E--;)y[s[E].key]=E;const B=[],z=new Map,H=new Map,V=[];for(E=_;E--;){const T=f(l,n,E),L=t(T);let S=r.get(L);S?V.push(()=>S.p(T,e)):(S=c(L,T),S.c()),z.set(L,B[E]=S),L in y&&H.set(L,Math.abs(E-y[L]))}const Q=new Set,P=new Set;function D(T){$(T,1),T.m(a,o),r.set(T.key,T),o=T.first,_--}for(;p&&_;){const T=B[_-1],L=s[p-1],S=T.key,U=L.key;T===L?(o=T.first,p--,_--):z.has(U)?!r.has(S)||Q.has(S)?D(T):P.has(U)?p--:H.get(S)>H.get(U)?(P.add(S),D(T)):(Q.add(U),p--):(u(L,r),p--)}for(;p--;){const T=s[p];z.has(T.key)||u(T,r)}for(;_;)D(B[_-1]);return Ie(V),B}var Ve=(s=>(s[s.UP=0]="UP",s[s.RIGHT=1]="RIGHT",s[s.DOWN=2]="DOWN",s[s.LEFT=3]="LEFT",s))(Ve||{}),se=(s=>(s[s.BFS=0]="BFS",s[s.IDS=1]="IDS",s[s.IDA_STAR=2]="IDA_STAR",s[s.IDS_RECURSIVE_BITS=3]="IDS_RECURSIVE_BITS",s[s.IDS_STACK=4]="IDS_STACK",s[s.A_STAR=5]="A_STAR",s))(se||{});function it(s){switch(s){case 0:return 2;case 1:return 3;case 2:return 0;case 3:return 1}return-1}class ne{constructor(e,t){this.field=e,this.empty=t}static fromArray(e){let t=0;for(let i=0;i<16;i++)if(e[i]===0){t=i;break}return new ne(e.slice(0),t)}static fromArrayUint(e){const t=new Uint8Array(16);let i=0;for(let l=0;l<16;l++)e[l]===0&&(i=l),t[l]=e[l];return new ne(t,i)}canMove(e){const t=this.empty%4;switch(e){case 0:return this.empty>3;case 2:return this.empty<12;case 3:return t>0;case 1:return t<3}return!1}makeMove(e){return this.copy().makeMoveInPlace(e)}makeMoveInPlace(e){let t=this.empty;switch(e){case 0:t=this.empty-4;break;case 2:t=this.empty+4;break;case 3:t=this.empty-1;break;case 1:t=this.empty+1;break}return this.field[this.empty]=this.field[t],this.field[t]=0,this.empty=t,this}copy(){return new ne(this.field.slice(0),this.empty)}hash64(){const e=this.field,t=BigInt(e[3]<<12|e[2]<<8|e[1]<<4|e[0]),i=BigInt(e[7]<<12|e[6]<<8|e[5]<<4|e[4]),l=BigInt(e[11]<<12|e[10]<<8|e[9]<<4|e[8]),n=BigInt(e[15]<<12|e[14]<<8|e[13]<<4|e[12]);return BigInt.asUintN(64,n<<48n|l<<32n|i<<16n|t)}isSolution(){if(this.empty!=15)return!1;for(let e=0;e<15;e++)if(this.field[e]!=e+1)return!1;return!0}heuristicCount(){let e=0;for(let t=0;t<15;++t)e+=+(this.field[t]!==t+1);return e}heuristicManhattan(){let e=0;for(let t=0;t<4;++t)for(let i=0;i<4;++i){let l=this.field[t*4+i];if(!l)continue;l-=1;const n=l/4|0,r=l%4;e+=Math.abs(n-t)+Math.abs(r-i)}return e}heuristicLinearConflict(){let e=0;for(let t=0;t<4;++t)for(let i=0;i<4;++i){const l=t*4;let n=this.field[l+i];if(!n)continue;n-=1;const r=n%4,a=n/4|0;if(e+=Math.abs(a-t)+Math.abs(r-i),a===t)for(let u=i+1;u<4;++u){let c=this.field[l+u];c&&(c-=1,(c/4|0)===t&&c<n&&(e+=2))}if(r===i)for(let u=t+1;u<4;++u){let c=this.field[u*4+i];c&&(c-=1,c%4===i&&c<n&&(e+=2))}}return e}heuristicCornerConflict(){let e=0;const t=new Array(16),i=new Array(16);for(let l=0;l<4;++l)for(let n=0;n<4;++n){const r=l*4;let a=this.field[r+n];if(!a)continue;a-=1;const u=a%4,c=a/4|0;if(e+=Math.abs(c-l)+Math.abs(u-n),c===l)for(let o=n+1;o<4;++o){let f=this.field[r+o];f&&(f-=1,(f/4|0)===l&&f<a&&(e+=2,t[a]=!0,t[f]=!0))}if(u===n)for(let o=l+1;o<4;++o){let f=this.field[o*4+n];f&&(f-=1,f%4===n&&f<a&&(e+=2,i[a]=!0,i[f]=!0))}}return this.field[3]!==4&&this.field[3]!=0&&(!t[2]&&this.field[2]===3&&(e+=2),!i[7]&&this.field[7]===8&&(e+=2)),this.field[0]!==1&&this.field[0]!=0&&(!t[1]&&this.field[1]===2&&(e+=2),!i[4]&&this.field[4]===5&&(e+=2)),this.field[12]!==13&&this.field[12]!=0&&(!t[13]&&this.field[13]===14&&(e+=2),!i[8]&&this.field[8]===9&&(e+=2)),e}conflictStatistics(){const e=new Array(16).fill(!1),t=new Array(16).fill(!1),i=new Array(16).fill(!1);for(let l=0;l<4;++l)for(let n=0;n<4;++n){const r=l*4;let a=this.field[r+n];if(!a)continue;a-=1;const u=a%4;if((a/4|0)===l)for(let o=n+1;o<4;++o){let f=this.field[r+o];f&&(f-=1,(f/4|0)===l&&f<a&&(e[a]=!0,e[f]=!0))}if(u===n)for(let o=l+1;o<4;++o){let f=this.field[o*4+n];f&&(f-=1,f%4===n&&f<a&&(t[a]=!0,t[f]=!0))}}return this.field[3]!==4&&this.field[3]!=0&&(!e[2]&&this.field[2]===3&&(i[2]=!0),!t[7]&&this.field[7]===8&&(i[7]=!0)),this.field[0]!==1&&this.field[0]!=0&&(!e[1]&&this.field[1]===2&&(i[1]=!0),!t[4]&&this.field[4]===5&&(i[4]=!0)),this.field[12]!==13&&this.field[12]!=0&&(!e[13]&&this.field[13]===14&&(i[13]=!0),!t[8]&&this.field[8]===9&&(i[8]=!0)),{inColConflict:t,inRowConflict:e,inCornerConflict:i}}}const Ut=["heuristicCount","heuristicManhattan","heuristicLinearConflict","heuristicCornerConflict"],je={heuristicCount:"Количество фишек, не стоящих на своих местах",heuristicManhattan:"Сумма расстояний в метрике городских кварталов между текущей и требуемой позицией фишки",heuristicLinearConflict:"Manhattan + линейные и столбцовые конфликты",heuristicCornerConflict:"Manhattan + линейные и столбцовые конфликты + угловые конфликты"},G=class G{constructor(e,t){this.field=e,this.empty=t}static fromArray(e){let t=0;for(let l=0;l<16;l++)if(e[l]===0){t=l;break}const i=new ne(e.slice(0),t);return new G(i.hash64(),t)}canMove(e){return G.canMove(this.empty,e)}static canMove(e,t){const i=e%4;switch(t){case 0:return e>3;case 2:return e<12;case 3:return i>0;case 1:return i<3}return!1}makeMove(e){const[t,i]=G.makeMove(this.field,this.empty,e);return new G(t,i)}static makeMove(e,t,i){let l=t;switch(i){case 0:l=t-4;break;case 2:l=t+4;break;case 3:l=t-1;break;case 1:l=t+1;break}const n=G.masks[l];let r=e&n;const a=l-t;return r=a>0&&r>>G.shifts[a]||r<<G.shifts[-a],e=e&~n|r,t=l,[e,t]}makeMoveInPlace(e){return[this.field,this.empty]=G.makeMove(this.field,this.empty,e),this}copy(){return new G(this.field,this.empty)}hash64(){return this.field}isSolution(){return this.field===G.solution}};re(G,"masks",[]),re(G,"shifts",[]),re(G,"solution",new ne([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0],15).hash64());let Me=G;for(let s=0;s<16;s++)Me.masks[s]=0xfn<<BigInt(s*4),Me.shifts[s]=BigInt(s*4);function K(s){return s.padEnd(16,"0").substring(0,16).split("").map(e=>parseInt(e,16))}function Te(s){return s.map(e=>(e||0).toString(16).toUpperCase()).join("")}const zt=[{field:K("123456789ABCDEF0"),length:0},{field:K("1234067859ACDEBF"),length:5},{field:K("5134207896ACDEBF"),length:8},{field:K("16245A3709C8DEBF"),length:10},{field:K("1723068459ACDEBF"),length:13},{field:K("0723168459ACDEBF"),length:14},{field:K("7023168459ACDEBF"),length:15},{field:K("7203168459ACDEBF"),length:16},{field:K("7283160459ACDEBF"),length:17},{field:K("7283106459ACDEBF"),length:18},{field:K("12345678A0BE9FCD"),length:19},{field:K("51247308A6BE9FCD"),length:27},{field:K("F2345678A0BE91DC"),length:33},{field:K("75123804A6BE9FCD"),length:35},{field:K("75AB2C416D389F0E"),length:45},{field:K("04582E1DF79BCA36"),length:48},{field:K("FE169B4C0A73D852"),length:52},{field:K("D79F2E8A45106C3B"),length:55},{field:K("DBE87A2C91F65034"),length:58},{field:K("BAC0F478E19623D5"),length:61}];function Fe(s,e,t){const i=s.slice();return i[9]=e[t],i[10]=e,i[11]=t,i}function Be(s){let e,t,i,l,n,r;function a(){s[5].call(t,s[10],s[11])}function u(...o){return s[6](s[11],...o)}function c(...o){return s[7](s[11],...o)}return{c(){e=j("div"),t=j("input"),l=X(),this.h()},l(o){e=F(o,"DIV",{draggable:!0,class:!0});var f=m(e);t=F(f,"INPUT",{type:!0,class:!0}),l=Y(f),f.forEach(h),this.h()},h(){d(t,"type","number"),t.disabled=i=!s[1],d(t,"class","svelte-1qmg6vw"),d(e,"draggable",s[1]),d(e,"class","svelte-1qmg6vw"),ee(e,"odd",(s[9]||0)%2),ee(e,"empty",s[9]===null),ee(e,"rowConflict",s[1]&&s[2].inRowConflict[(s[9]||0)-1]),ee(e,"colConflict",s[1]&&s[2].inColConflict[(s[9]||0)-1]),ee(e,"cornerConflict",s[1]&&s[2].inCornerConflict[(s[9]||0)-1])},m(o,f){v(o,e,f),g(e,t),Se(t,s[9]),g(e,l),n||(r=[ie(t,"input",a),ie(e,"dragstart",u),ie(e,"drop",c),ie(e,"dragover",rt)],n=!0)},p(o,f){s=o,f&2&&i!==(i=!s[1])&&(t.disabled=i),f&1&&Ue(t.value)!==s[9]&&Se(t,s[9]),f&2&&d(e,"draggable",s[1]),f&1&&ee(e,"odd",(s[9]||0)%2),f&1&&ee(e,"empty",s[9]===null),f&7&&ee(e,"rowConflict",s[1]&&s[2].inRowConflict[(s[9]||0)-1]),f&7&&ee(e,"colConflict",s[1]&&s[2].inColConflict[(s[9]||0)-1]),f&7&&ee(e,"cornerConflict",s[1]&&s[2].inCornerConflict[(s[9]||0)-1])},d(o){o&&h(e),n=!1,Ie(r)}}}function lt(s){let e,t=Ae(s[0]),i=[];for(let l=0;l<t.length;l+=1)i[l]=Be(Fe(s,t,l));return{c(){e=j("article");for(let l=0;l<i.length;l+=1)i[l].c();this.h()},l(l){e=F(l,"ARTICLE",{class:!0});var n=m(e);for(let r=0;r<i.length;r+=1)i[r].l(n);n.forEach(h),this.h()},h(){d(e,"class","svelte-1qmg6vw")},m(l,n){v(l,e,n);for(let r=0;r<i.length;r+=1)i[r]&&i[r].m(e,null)},p(l,[n]){if(n&31){t=Ae(l[0]);let r;for(r=0;r<t.length;r+=1){const a=Fe(l,t,r);i[r]?i[r].p(a,n):(i[r]=Be(a),i[r].c(),i[r].m(e,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=t.length}},i:ae,o:ae,d(l){l&&h(e),Ye(i,l)}}}function rt(s){s.preventDefault()}function nt(s,e,t){let{position:i=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,null]}=e,{interactive:l=!1}=e,n=null;function r(p,_){n=p}function a(p,_){if(n===null)return;const E=i[n];t(0,i[n]=i[p],i),t(0,i[p]=E,i)}let u=ne.fromArray(i.map(p=>p||0)).conflictStatistics();function c(p,_){p[_]=Ue(this.value),t(0,i)}const o=(p,_)=>r(p),f=(p,_)=>a(p);return s.$$set=p=>{"position"in p&&t(0,i=p.position),"interactive"in p&&t(1,l=p.interactive)},s.$$.update=()=>{s.$$.dirty&3&&l&&t(2,u=ne.fromArray(i.map(p=>p||0)).conflictStatistics())},[i,l,u,r,a,c,o,f]}class at extends ce{constructor(e){super(),he(this,e,nt,lt,fe,{position:0,interactive:1})}}function ut(s){return new Worker(""+new URL("../workers/worker-D3bTM8_-.js",import.meta.url).href,{name:s==null?void 0:s.name})}class ot{constructor(){re(this,"worker");re(this,"queue",[]);re(this,"currentTask");re(this,"idCounter",0);re(this,"listeners",new Set);this.worker=this.restartWorker()}run(e){const t={taskId:this.idCounter++,task:e};return this.sendTask(t),t}cancel(e){if(this.currentTask===e)return this.restartWorker(),!0;const t=this.queue.findIndex(i=>i===e);return t==-1?!1:(this.queue.splice(t,1),this.emitEvent(e,"canceled"),!0)}addEventListener(e,t){this.listeners.add(t)}sendTask(e){if(this.queue.length||this.currentTask){this.queue.push(e);return}this.currentTask=e,this.worker.postMessage(e)}emitEvent(e,t,i){for(const l of this.listeners)l(e,t,i)}restartWorker(){return this.worker&&(this.worker.terminate(),this.currentTask&&(this.emitEvent(this.currentTask,"canceled"),this.currentTask=void 0)),this.worker=new ut,this.worker.onmessage=e=>{var i;const t=e.data;if(((i=this.currentTask)==null?void 0:i.taskId)!==t.taskId)throw new Error("Unexpected task");if(t.status==="started"&&(t.time=performance.now()),this.emitEvent(this.currentTask,"updated",t),t.status!="started"){if(this.currentTask=this.queue.shift(),!this.currentTask)return;this.worker.postMessage(this.currentTask)}},this.queue.length&&(this.currentTask=this.queue.shift(),this.currentTask&&this.worker.postMessage(this.currentTask)),this.worker}dispose(){this.worker.terminate()}}function ft(s){let e;return{c(){e=O(s[0])},l(t){e=N(t,s[0])},m(t,i){v(t,e,i)},p(t,i){i&1&&Z(e,t[0])},d(t){t&&h(e)}}}function ct(s){let e,t,i,l;return{c(){e=C("path"),t=C("path"),i=C("path"),l=C("path"),this.h()},l(n){e=A(n,"path",{stroke:!0,d:!0,fill:!0}),m(e).forEach(h),t=A(n,"path",{d:!0}),m(t).forEach(h),i=A(n,"path",{d:!0}),m(i).forEach(h),l=A(n,"path",{d:!0}),m(l).forEach(h),this.h()},h(){d(e,"stroke","none"),d(e,"d","M0 0h24v24H0z"),d(e,"fill","none"),d(t,"d","M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"),d(i,"d","M12 9v4"),d(l,"d","M12 16v.01")},m(n,r){v(n,e,r),v(n,t,r),v(n,i,r),v(n,l,r)},p:ae,d(n){n&&(h(e),h(t),h(i),h(l))}}}function ht(s){let e,t,i,l,n,r,a,u,c,o;return{c(){e=C("path"),t=C("path"),i=C("path"),l=C("path"),n=C("path"),r=C("path"),a=C("path"),u=C("path"),c=C("path"),o=C("path"),this.h()},l(f){e=A(f,"path",{stroke:!0,d:!0,fill:!0}),m(e).forEach(h),t=A(f,"path",{d:!0}),m(t).forEach(h),i=A(f,"path",{d:!0}),m(i).forEach(h),l=A(f,"path",{d:!0}),m(l).forEach(h),n=A(f,"path",{d:!0}),m(n).forEach(h),r=A(f,"path",{d:!0}),m(r).forEach(h),a=A(f,"path",{d:!0}),m(a).forEach(h),u=A(f,"path",{d:!0}),m(u).forEach(h),c=A(f,"path",{d:!0}),m(c).forEach(h),o=A(f,"path",{d:!0}),m(o).forEach(h),this.h()},h(){d(e,"stroke","none"),d(e,"d","M0 0h24v24H0z"),d(e,"fill","none"),d(t,"d","M8.56 3.69a9 9 0 0 0 -2.92 1.95"),d(i,"d","M3.69 8.56a9 9 0 0 0 -.69 3.44"),d(l,"d","M3.69 15.44a9 9 0 0 0 1.95 2.92"),d(n,"d","M8.56 20.31a9 9 0 0 0 3.44 .69"),d(r,"d","M15.44 20.31a9 9 0 0 0 2.92 -1.95"),d(a,"d","M20.31 15.44a9 9 0 0 0 .69 -3.44"),d(u,"d","M20.31 8.56a9 9 0 0 0 -1.95 -2.92"),d(c,"d","M15.44 3.69a9 9 0 0 0 -3.44 -.69"),d(o,"d","M9 12l2 2l4 -4")},m(f,p){v(f,e,p),v(f,t,p),v(f,i,p),v(f,l,p),v(f,n,p),v(f,r,p),v(f,a,p),v(f,u,p),v(f,c,p),v(f,o,p)},p:ae,d(f){f&&(h(e),h(t),h(i),h(l),h(n),h(r),h(a),h(u),h(c),h(o))}}}function dt(s){let e,t,i,l,n,r,a,u,c;return{c(){e=C("path"),t=C("path"),i=C("path"),l=C("path"),n=C("path"),r=C("path"),a=C("path"),u=C("path"),c=C("path"),this.h()},l(o){e=A(o,"path",{stroke:!0,d:!0,fill:!0}),m(e).forEach(h),t=A(o,"path",{d:!0}),m(t).forEach(h),i=A(o,"path",{d:!0}),m(i).forEach(h),l=A(o,"path",{d:!0}),m(l).forEach(h),n=A(o,"path",{d:!0}),m(n).forEach(h),r=A(o,"path",{d:!0}),m(r).forEach(h),a=A(o,"path",{d:!0}),m(a).forEach(h),u=A(o,"path",{d:!0}),m(u).forEach(h),c=A(o,"path",{d:!0}),m(c).forEach(h),this.h()},h(){d(e,"stroke","none"),d(e,"d","M0 0h24v24H0z"),d(e,"fill","none"),d(t,"d","M12 6l0 -3"),d(i,"d","M16.25 7.75l2.15 -2.15"),d(l,"d","M18 12l3 0"),d(n,"d","M16.25 16.25l2.15 2.15"),d(r,"d","M12 18l0 3"),d(a,"d","M7.75 16.25l-2.15 2.15"),d(u,"d","M6 12l-3 0"),d(c,"d","M7.75 7.75l-2.15 -2.15")},m(o,f){v(o,e,f),v(o,t,f),v(o,i,f),v(o,l,f),v(o,n,f),v(o,r,f),v(o,a,f),v(o,u,f),v(o,c,f)},p:ae,d(o){o&&(h(e),h(t),h(i),h(l),h(n),h(r),h(a),h(u),h(c))}}}function pt(s){let e,t,i,l,n;return{c(){e=C("path"),t=C("path"),i=C("path"),l=C("path"),n=C("path"),this.h()},l(r){e=A(r,"path",{stroke:!0,d:!0,fill:!0}),m(e).forEach(h),t=A(r,"path",{d:!0}),m(t).forEach(h),i=A(r,"path",{d:!0}),m(i).forEach(h),l=A(r,"path",{d:!0}),m(l).forEach(h),n=A(r,"path",{d:!0}),m(n).forEach(h),this.h()},h(){d(e,"stroke","none"),d(e,"d","M0 0h24v24H0z"),d(e,"fill","none"),d(t,"d","M5 13a7 7 0 1 0 14 0a7 7 0 0 0 -14 0z"),d(i,"d","M14.5 10.5l-2.5 2.5"),d(l,"d","M17 8l1 -1"),d(n,"d","M14 3h-4")},m(r,a){v(r,e,a),v(r,t,a),v(r,i,a),v(r,l,a),v(r,n,a)},p:ae,d(r){r&&(h(e),h(t),h(i),h(l),h(n))}}}function _t(s){let e,t,i;return{c(){e=C("path"),t=C("path"),i=C("path"),this.h()},l(l){e=A(l,"path",{stroke:!0,d:!0,fill:!0}),m(e).forEach(h),t=A(l,"path",{d:!0}),m(t).forEach(h),i=A(l,"path",{d:!0}),m(i).forEach(h),this.h()},h(){d(e,"stroke","none"),d(e,"d","M0 0h24v24H0z"),d(e,"fill","none"),d(t,"d","M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"),d(i,"d","M18.364 5.636l-12.728 12.728")},m(l,n){v(l,e,n),v(l,t,n),v(l,i,n)},p:ae,d(l){l&&(h(e),h(t),h(i))}}}function mt(s){let e,t,i,l,n;function r(c,o){return c[2]||c[0]==="canceled"?_t:c[0]==="queued"?pt:c[0]==="started"?dt:c[0]==="resolved"?ht:c[0]==="error"?ct:ft}let a=r(s),u=a(s);return{c(){e=j("article"),t=C("svg"),u.c(),this.h()},l(c){e=F(c,"ARTICLE",{title:!0,style:!0});var o=m(e);t=A(o,"svg",{xmlns:!0,width:!0,height:!0,class:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var f=m(t);u.l(f),f.forEach(h),o.forEach(h),this.h()},h(){d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"width",Ce),d(t,"height",Ce),d(t,"class",i=oe(s[0])+" svelte-31ex68"),d(t,"viewBox","0 0 24 24"),d(t,"fill","none"),d(t,"stroke","currentColor"),d(t,"stroke-width","2"),d(t,"stroke-linecap","round"),d(t,"stroke-linejoin","round"),ee(t,"hover",s[2]),d(e,"title",s[1]),d(e,"style",`width:${Ce}px;height:${Ce}px;`)},m(c,o){v(c,e,o),g(e,t),u.m(t,null),l||(n=[ie(e,"mouseenter",s[3]),ie(e,"mouseleave",s[4]),ie(e,"click",s[5])],l=!0)},p(c,[o]){a===(a=r(c))&&u?u.p(c,o):(u.d(1),u=a(c),u&&(u.c(),u.m(t,null))),o&1&&i!==(i=oe(c[0])+" svelte-31ex68")&&d(t,"class",i),o&5&&ee(t,"hover",c[2]),o&2&&d(e,"title",c[1])},i:ae,o:ae,d(c){c&&h(e),u.d(),l=!1,Ie(n)}}}let Ce=24;function kt(s,e,t){let{value:i}=e,l="";const n=Ze();let r=!1;function a(){t(2,r=i==="queued"||i==="started")}function u(){t(2,r=!1)}function c(){r&&n("cancel")}return s.$$set=o=>{"value"in o&&t(0,i=o.value)},s.$$.update=()=>{if(s.$$.dirty&1)switch(i){case"queued":t(1,l="В очереди");break;case"started":t(1,l="Вычисляем");break;case"canceled":t(1,l="Отменено");break;case"error":t(1,l="Произошла ошибка");break;case"resolved":t(1,l="Решено");break}},[i,l,r,a,u,c]}class We extends ce{constructor(e){super(),he(this,e,kt,mt,fe,{value:0})}}function gt(s){let e;return{c(){e=O("Обратный")},l(t){e=N(t,"Обратный")},m(t,i){v(t,e,i)},d(t){t&&h(e)}}}function vt(s){let e;return{c(){e=O("Прямой")},l(t){e=N(t,"Прямой")},m(t,i){v(t,e,i)},d(t){t&&h(e)}}}function Et(s){let e,t=s[2].operations.length+"",i,l,n=s[2].nodesVisited+"",r;return{c(){e=O("Длина решения: "),i=O(t),l=O(", узлов рассмотрено: "),r=O(n)},l(a){e=N(a,"Длина решения: "),i=N(a,t),l=N(a,", узлов рассмотрено: "),r=N(a,n)},m(a,u){v(a,e,u),v(a,i,u),v(a,l,u),v(a,r,u)},p(a,u){u&4&&t!==(t=a[2].operations.length+"")&&Z(i,t),u&4&&n!==(n=a[2].nodesVisited+"")&&Z(r,n)},d(a){a&&(h(e),h(i),h(l),h(r))}}}function wt(s){let e;return{c(){e=O(s[3])},l(t){e=N(t,s[3])},m(t,i){v(t,e,i)},p(t,i){i&8&&Z(e,t[3])},d(t){t&&h(e)}}}function Re(s){let e,t,i=Oe(s[0].start,s[4].operations).join(`
`)+"",l;return{c(){e=j("article"),t=j("pre"),l=O(i),this.h()},l(n){e=F(n,"ARTICLE",{class:!0});var r=m(e);t=F(r,"PRE",{});var a=m(t);l=N(a,i),a.forEach(h),r.forEach(h),this.h()},h(){d(e,"class","svelte-hvr3jy")},m(n,r){v(n,e,r),g(e,t),g(t,l)},p(n,r){r&17&&i!==(i=Oe(n[0].start,n[4].operations).join(`
`)+"")&&Z(l,i)},d(n){n&&h(e)}}}function bt(s){let e,t,i,l,n,r,a,u,c,o=s[0].operations==="two"?"+3, *2":"+3, *2, -2",f,p,_,E,y,B=s[0].start+"",z,H,V=s[0].finish+"",Q,P,D,T,L,S,U,le;l=new We({props:{value:s[1]}}),l.$on("cancel",s[9]);function J(k,b){return k[0].order==="forward"?vt:gt}let q=J(s),R=q(s);function te(k,b){if(k[3])return wt;if(k[2])return Et}let W=te(s),I=W&&W(s),w=s[6]&&s[2]&&Re(s);return{c(){e=j("main"),t=j("article"),i=j("section"),de(l.$$.fragment),n=X(),r=j("section"),a=O(s[5]),u=X(),c=j("section"),f=O(o),p=X(),_=j("section"),R.c(),E=X(),y=j("section"),z=O(B),H=O(" → "),Q=O(V),P=X(),D=j("section"),I&&I.c(),L=X(),w&&w.c(),this.h()},l(k){e=F(k,"MAIN",{class:!0});var b=m(e);t=F(b,"ARTICLE",{class:!0});var M=m(t);i=F(M,"SECTION",{class:!0});var ke=m(i);pe(l.$$.fragment,ke),ke.forEach(h),n=Y(M),r=F(M,"SECTION",{class:!0});var ge=m(r);a=N(ge,s[5]),ge.forEach(h),u=Y(M),c=F(M,"SECTION",{class:!0});var ve=m(c);f=N(ve,o),ve.forEach(h),p=Y(M),_=F(M,"SECTION",{class:!0});var Ee=m(_);R.l(Ee),Ee.forEach(h),E=Y(M),y=F(M,"SECTION",{class:!0});var ue=m(y);z=N(ue,B),H=N(ue," → "),Q=N(ue,V),ue.forEach(h),P=Y(M),D=F(M,"SECTION",{class:!0});var we=m(D);I&&I.l(we),we.forEach(h),M.forEach(h),L=Y(b),w&&w.l(b),b.forEach(h),this.h()},h(){d(i,"class","svelte-hvr3jy"),d(r,"class","status svelte-hvr3jy"),d(c,"class","operations svelte-hvr3jy"),d(_,"class","direction svelte-hvr3jy"),d(y,"class","task svelte-hvr3jy"),d(D,"class","svelte-hvr3jy"),d(t,"class",T=oe(`${s[2]?"clickable":""}`)+" svelte-hvr3jy"),d(e,"class","svelte-hvr3jy")},m(k,b){v(k,e,b),g(e,t),g(t,i),_e(l,i,null),g(t,n),g(t,r),g(r,a),g(t,u),g(t,c),g(c,f),g(t,p),g(t,_),R.m(_,null),g(t,E),g(t,y),g(y,z),g(y,H),g(y,Q),g(t,P),g(t,D),I&&I.m(D,null),g(e,L),w&&w.m(e,null),S=!0,U||(le=ie(t,"click",s[7]),U=!0)},p(k,[b]){const M={};b&2&&(M.value=k[1]),l.$set(M),(!S||b&32)&&Z(a,k[5]),(!S||b&1)&&o!==(o=k[0].operations==="two"?"+3, *2":"+3, *2, -2")&&Z(f,o),q!==(q=J(k))&&(R.d(1),R=q(k),R&&(R.c(),R.m(_,null))),(!S||b&1)&&B!==(B=k[0].start+"")&&Z(z,B),(!S||b&1)&&V!==(V=k[0].finish+"")&&Z(Q,V),W===(W=te(k))&&I?I.p(k,b):(I&&I.d(1),I=W&&W(k),I&&(I.c(),I.m(D,null))),(!S||b&4&&T!==(T=oe(`${k[2]?"clickable":""}`)+" svelte-hvr3jy"))&&d(t,"class",T),k[6]&&k[2]?w?w.p(k,b):(w=Re(k),w.c(),w.m(e,null)):w&&(w.d(1),w=null)},i(k){S||($(l.$$.fragment,k),S=!0)},o(k){x(l.$$.fragment,k),S=!1},d(k){k&&h(e),me(l),R.d(),I&&I.d(),w&&w.d(),U=!1,le()}}}function Oe(s,e){const t=[],i=Math.ceil(Math.log10(e.length));for(let l=0;l<e.length;l++){const n=e[l][0],r=Number(e[l].substring(1));let a=s;switch(n){case"+":a+=r;break;case"-":a-=r;break;case"*":a*=r;break;case"/":a/=r;break}t.push(`${(l+1).toString().padStart(i)}. ${s} ${n} ${r} = ${a}`),s=a}return t}function Ct(s,e,t){let{task:i}=e,{state:l}=e,{result:n}=e,{error:r}=e,{time:a}=e,u,c="В очереди",o=!1;const f=()=>{n&&t(6,o=!o)};function p(_){ze.call(this,s,_)}return s.$$set=_=>{"task"in _&&t(0,i=_.task),"state"in _&&t(1,l=_.state),"result"in _&&t(2,n=_.result),"error"in _&&t(3,r=_.error),"time"in _&&t(8,a=_.time)},s.$$.update=()=>{if(s.$$.dirty&4&&t(4,u=n),s.$$.dirty&266)if(l==="canceled")t(5,c="Отменено");else if(a!==void 0)if(a>60*1e3){const _=a/6e4;t(5,c=`${_.toFixed(3)} мин.`)}else if(a>1e3){const _=a/1e3;t(5,c=`${_.toFixed(3)} сек.`)}else t(5,c=`${a.toFixed(2)} мсек.`);else r&&t(5,c="Ошибка")},[i,l,n,r,u,c,o,f,a,p]}class At extends ce{constructor(e){super(),he(this,e,Ct,bt,fe,{task:0,state:1,result:2,error:3,time:8})}}function Mt(s){let e,t,i=Te(s[1].field)+"",l,n,r,a,u,c,o,f,p,_,E,y,B,z,H=s[0].length+"",V,Q,P,D,T,L,S,U,le,J;return r=new at({props:{position:s[1].field.map(Ne)}}),{c(){e=j("article"),t=j("header"),l=O(i),n=X(),de(r.$$.fragment),a=X(),u=j("footer"),c=j("button"),o=C("svg"),f=C("path"),p=C("path"),E=X(),y=j("span"),B=O(s[2]),z=O("/"),V=O(H),Q=X(),P=j("button"),D=C("svg"),T=C("path"),L=C("path"),this.h()},l(q){e=F(q,"ARTICLE",{});var R=m(e);t=F(R,"HEADER",{class:!0});var te=m(t);l=N(te,i),te.forEach(h),n=Y(R),pe(r.$$.fragment,R),a=Y(R),u=F(R,"FOOTER",{class:!0});var W=m(u);c=F(W,"BUTTON",{class:!0});var I=m(c);o=A(I,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var w=m(o);f=A(w,"path",{stroke:!0,d:!0,fill:!0}),m(f).forEach(h),p=A(w,"path",{d:!0}),m(p).forEach(h),w.forEach(h),I.forEach(h),E=Y(W),y=F(W,"SPAN",{});var k=m(y);B=N(k,s[2]),z=N(k,"/"),V=N(k,H),k.forEach(h),Q=Y(W),P=F(W,"BUTTON",{class:!0});var b=m(P);D=A(b,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var M=m(D);T=A(M,"path",{stroke:!0,d:!0,fill:!0}),m(T).forEach(h),L=A(M,"path",{d:!0}),m(L).forEach(h),M.forEach(h),b.forEach(h),W.forEach(h),R.forEach(h),this.h()},h(){d(t,"class","svelte-5k1lmy"),d(f,"stroke","none"),d(f,"d","M0 0h24v24H0z"),d(f,"fill","none"),d(p,"d","M14 6l-6 6l6 6v-12"),d(o,"xmlns","http://www.w3.org/2000/svg"),d(o,"width","24"),d(o,"height","24"),d(o,"viewBox","0 0 24 24"),d(o,"fill","none"),d(o,"stroke","currentColor"),d(o,"stroke-width","2"),d(o,"stroke-linecap","round"),d(o,"stroke-linejoin","round"),d(o,"class","icon icon-tabler icons-tabler-outline icon-tabler-caret-left"),c.disabled=_=s[2]===0,d(c,"class","svelte-5k1lmy"),d(T,"stroke","none"),d(T,"d","M0 0h24v24H0z"),d(T,"fill","none"),d(L,"d","M10 18l6 -6l-6 -6v12"),d(D,"xmlns","http://www.w3.org/2000/svg"),d(D,"width","24"),d(D,"height","24"),d(D,"viewBox","0 0 24 24"),d(D,"fill","none"),d(D,"stroke","currentColor"),d(D,"stroke-width","2"),d(D,"stroke-linecap","round"),d(D,"stroke-linejoin","round"),d(D,"class","icon icon-tabler icons-tabler-outline icon-tabler-caret-right"),P.disabled=S=s[2]===s[0].length,d(P,"class","svelte-5k1lmy"),d(u,"class","svelte-5k1lmy")},m(q,R){v(q,e,R),g(e,t),g(t,l),g(e,n),_e(r,e,null),g(e,a),g(e,u),g(u,c),g(c,o),g(o,f),g(o,p),g(u,E),g(u,y),g(y,B),g(y,z),g(y,V),g(u,Q),g(u,P),g(P,D),g(D,T),g(D,L),U=!0,le||(J=[ie(c,"click",s[4]),ie(P,"click",s[3])],le=!0)},p(q,[R]){(!U||R&2)&&i!==(i=Te(q[1].field)+"")&&Z(l,i);const te={};R&2&&(te.position=q[1].field.map(Ne)),r.$set(te),(!U||R&4&&_!==(_=q[2]===0))&&(c.disabled=_),(!U||R&4)&&Z(B,q[2]),(!U||R&1)&&H!==(H=q[0].length+"")&&Z(V,H),(!U||R&5&&S!==(S=q[2]===q[0].length))&&(P.disabled=S)},i(q){U||($(r.$$.fragment,q),U=!0)},o(q){x(r.$$.fragment,q),U=!1},d(q){q&&h(e),me(r),le=!1,Ie(J)}}}const Ne=s=>s||null;function Tt(s,e,t){let{start:i}=e,{operations:l}=e,n=ne.fromArray(i),r=0;function a(){r<l.length&&(n.makeMoveInPlace(l[r]),t(1,n),t(2,r++,r))}function u(){r>0&&(t(2,r--,r),n.makeMoveInPlace(it(l[r])),t(1,n))}return s.$$set=c=>{"start"in c&&t(5,i=c.start),"operations"in c&&t(0,l=c.operations)},[l,n,r,a,u,i]}class It extends ce{constructor(e){super(),he(this,e,Tt,Mt,fe,{start:5,operations:0})}}function yt(s){let e,t=s[2].operations.length+"",i,l,n=s[2].nodesVisited+"",r;return{c(){e=O("Длина решения: "),i=O(t),l=O(", узлов рассмотрено: "),r=O(n)},l(a){e=N(a,"Длина решения: "),i=N(a,t),l=N(a,", узлов рассмотрено: "),r=N(a,n)},m(a,u){v(a,e,u),v(a,i,u),v(a,l,u),v(a,r,u)},p(a,u){u&4&&t!==(t=a[2].operations.length+"")&&Z(i,t),u&4&&n!==(n=a[2].nodesVisited+"")&&Z(r,n)},d(a){a&&(h(e),h(i),h(l),h(r))}}}function Dt(s){let e;return{c(){e=O(s[3])},l(t){e=N(t,s[3])},m(t,i){v(t,e,i)},p(t,i){i&8&&Z(e,t[3])},d(t){t&&h(e)}}}function qe(s){let e,t,i,l,n=s[8](0,s[4].operations).join(`
`)+"",r,a;return t=new It({props:{start:s[0].start,operations:s[4].operations}}),{c(){e=j("article"),de(t.$$.fragment),i=X(),l=j("pre"),r=O(n),this.h()},l(u){e=F(u,"ARTICLE",{class:!0});var c=m(e);pe(t.$$.fragment,c),i=Y(c),l=F(c,"PRE",{class:!0});var o=m(l);r=N(o,n),o.forEach(h),c.forEach(h),this.h()},h(){d(l,"class","svelte-1lypj8g"),d(e,"class","svelte-1lypj8g")},m(u,c){v(u,e,c),_e(t,e,null),g(e,i),g(e,l),g(l,r),a=!0},p(u,c){const o={};c&1&&(o.start=u[0].start),c&16&&(o.operations=u[4].operations),t.$set(o),(!a||c&16)&&n!==(n=u[8](0,u[4].operations).join(`
`)+"")&&Z(r,n)},i(u){a||($(t.$$.fragment,u),a=!0)},o(u){x(t.$$.fragment,u),a=!1},d(u){u&&h(e),me(t)}}}function St(s){let e,t,i,l,n,r,a,u,c,o="Пятнашки",f,p,_=se[s[0].algorithm]+"",E,y,B,z=((s[0].algorithm===se.IDA_STAR||s[0].algorithm===se.A_STAR)&&s[0].heuristic.substring(9)||"---")+"",H,V,Q,P,D=Te(s[0].start)+"",T,L,S,U,le,J,q,R;l=new We({props:{value:s[1]}}),l.$on("cancel",s[10]);function te(k,b){if(k[3])return Dt;if(k[2])return yt}let W=te(s),I=W&&W(s),w=s[6]&&s[2]&&qe(s);return{c(){e=j("main"),t=j("article"),i=j("section"),de(l.$$.fragment),n=X(),r=j("section"),a=O(s[5]),u=X(),c=j("section"),c.textContent=o,f=X(),p=j("section"),E=O(_),y=X(),B=j("section"),H=O(z),Q=X(),P=j("section"),T=O(D),L=X(),S=j("section"),I&&I.c(),le=X(),w&&w.c(),this.h()},l(k){e=F(k,"MAIN",{class:!0});var b=m(e);t=F(b,"ARTICLE",{class:!0});var M=m(t);i=F(M,"SECTION",{class:!0});var ke=m(i);pe(l.$$.fragment,ke),ke.forEach(h),n=Y(M),r=F(M,"SECTION",{class:!0});var ge=m(r);a=N(ge,s[5]),ge.forEach(h),u=Y(M),c=F(M,"SECTION",{class:!0,"data-svelte-h":!0}),Je(c)!=="svelte-o0jn4g"&&(c.textContent=o),f=Y(M),p=F(M,"SECTION",{class:!0});var ve=m(p);E=N(ve,_),ve.forEach(h),y=Y(M),B=F(M,"SECTION",{class:!0,title:!0});var Ee=m(B);H=N(Ee,z),Ee.forEach(h),Q=Y(M),P=F(M,"SECTION",{class:!0});var ue=m(P);T=N(ue,D),ue.forEach(h),L=Y(M),S=F(M,"SECTION",{class:!0});var we=m(S);I&&I.l(we),we.forEach(h),M.forEach(h),le=Y(b),w&&w.l(b),b.forEach(h),this.h()},h(){d(i,"class","svelte-1lypj8g"),d(r,"class","status svelte-1lypj8g"),d(c,"class","operations svelte-1lypj8g"),d(p,"class","direction svelte-1lypj8g"),d(B,"class","task svelte-1lypj8g"),d(B,"title",V=s[0].algorithm===se.IDA_STAR||s[0].algorithm===se.A_STAR?je[s[0].heuristic]:"Неинформированный поиск"),d(P,"class","task svelte-1lypj8g"),d(S,"class","svelte-1lypj8g"),d(t,"class",U=oe(`${s[2]?"clickable":""}`)+" svelte-1lypj8g"),d(e,"class","svelte-1lypj8g")},m(k,b){v(k,e,b),g(e,t),g(t,i),_e(l,i,null),g(t,n),g(t,r),g(r,a),g(t,u),g(t,c),g(t,f),g(t,p),g(p,E),g(t,y),g(t,B),g(B,H),g(t,Q),g(t,P),g(P,T),g(t,L),g(t,S),I&&I.m(S,null),g(e,le),w&&w.m(e,null),J=!0,q||(R=ie(t,"click",s[7]),q=!0)},p(k,[b]){const M={};b&2&&(M.value=k[1]),l.$set(M),(!J||b&32)&&Z(a,k[5]),(!J||b&1)&&_!==(_=se[k[0].algorithm]+"")&&Z(E,_),(!J||b&1)&&z!==(z=((k[0].algorithm===se.IDA_STAR||k[0].algorithm===se.A_STAR)&&k[0].heuristic.substring(9)||"---")+"")&&Z(H,z),(!J||b&1&&V!==(V=k[0].algorithm===se.IDA_STAR||k[0].algorithm===se.A_STAR?je[k[0].heuristic]:"Неинформированный поиск"))&&d(B,"title",V),(!J||b&1)&&D!==(D=Te(k[0].start)+"")&&Z(T,D),W===(W=te(k))&&I?I.p(k,b):(I&&I.d(1),I=W&&W(k),I&&(I.c(),I.m(S,null))),(!J||b&4&&U!==(U=oe(`${k[2]?"clickable":""}`)+" svelte-1lypj8g"))&&d(t,"class",U),k[6]&&k[2]?w?(w.p(k,b),b&68&&$(w,1)):(w=qe(k),w.c(),$(w,1),w.m(e,null)):w&&(ye(),x(w,1,1,()=>{w=null}),De())},i(k){J||($(l.$$.fragment,k),$(w),J=!0)},o(k){x(l.$$.fragment,k),x(w),J=!1},d(k){k&&h(e),me(l),I&&I.d(),w&&w.d(),q=!1,R()}}}function jt(s,e,t){let{task:i}=e,{state:l}=e,{result:n}=e,{error:r}=e,{time:a}=e,u,c="В очереди",o=!1;const f=()=>{n&&t(6,o=!o)};function p(E,y){const B=[],z=Math.ceil(Math.log10(y.length));for(let H=0;H<y.length;H++){const V=Ve[y[H]];B.push(`${(H+1).toString().padStart(z)}. ${V}`)}return B}function _(E){ze.call(this,s,E)}return s.$$set=E=>{"task"in E&&t(0,i=E.task),"state"in E&&t(1,l=E.state),"result"in E&&t(2,n=E.result),"error"in E&&t(3,r=E.error),"time"in E&&t(9,a=E.time)},s.$$.update=()=>{if(s.$$.dirty&4&&t(4,u=n),s.$$.dirty&522)if(l==="canceled")t(5,c="Отменено");else if(a!==void 0)if(a>60*1e3){const E=a/6e4;t(5,c=`${E.toFixed(3)} мин.`)}else if(a>1e3){const E=a/1e3;t(5,c=`${E.toFixed(3)} сек.`)}else t(5,c=`${a.toFixed(2)} мсек.`);else r&&t(5,c="Ошибка")},[i,l,n,r,u,c,o,f,p,a,_]}class Ft extends ce{constructor(e){super(),he(this,e,jt,St,fe,{task:0,state:1,result:2,error:3,time:9})}}function Le(s,e,t){const i=s.slice();i[10]=e[t];const l=i[10].task.task;i[11]=l;const n=i[10].result;return i[12]=n,i}const Bt=s=>({}),He=s=>({run:s[3]});function Rt(s){var l,n,r,a;let e,t;function i(){return s[8](s[10])}return e=new Ft({props:{task:s[11],state:s[10].state,error:((l=s[12])==null?void 0:l.status)==="error"?s[12].error:void 0,result:((n=s[12])==null?void 0:n.status)==="resolved"?s[12].result:void 0,time:((r=s[12])==null?void 0:r.status)==="resolved"?s[12].result.timeMs:((a=s[12])==null?void 0:a.status)==="started"?s[1]-s[12].time:void 0}}),e.$on("cancel",i),{c(){de(e.$$.fragment)},l(u){pe(e.$$.fragment,u)},m(u,c){_e(e,u,c),t=!0},p(u,c){var f,p,_,E;s=u;const o={};c&4&&(o.task=s[11]),c&4&&(o.state=s[10].state),c&4&&(o.error=((f=s[12])==null?void 0:f.status)==="error"?s[12].error:void 0),c&4&&(o.result=((p=s[12])==null?void 0:p.status)==="resolved"?s[12].result:void 0),c&6&&(o.time=((_=s[12])==null?void 0:_.status)==="resolved"?s[12].result.timeMs:((E=s[12])==null?void 0:E.status)==="started"?s[1]-s[12].time:void 0),e.$set(o)},i(u){t||($(e.$$.fragment,u),t=!0)},o(u){x(e.$$.fragment,u),t=!1},d(u){me(e,u)}}}function Ot(s){var l,n,r,a;let e,t;function i(){return s[7](s[10])}return e=new At({props:{task:s[11],state:s[10].state,error:((l=s[12])==null?void 0:l.status)==="error"?s[12].error:void 0,result:((n=s[12])==null?void 0:n.status)==="resolved"?s[12].result:void 0,time:((r=s[12])==null?void 0:r.status)==="resolved"?s[12].result.timeMs:((a=s[12])==null?void 0:a.status)==="started"?s[1]-s[12].time:void 0}}),e.$on("cancel",i),{c(){de(e.$$.fragment)},l(u){pe(e.$$.fragment,u)},m(u,c){_e(e,u,c),t=!0},p(u,c){var f,p,_,E;s=u;const o={};c&4&&(o.task=s[11]),c&4&&(o.state=s[10].state),c&4&&(o.error=((f=s[12])==null?void 0:f.status)==="error"?s[12].error:void 0),c&4&&(o.result=((p=s[12])==null?void 0:p.status)==="resolved"?s[12].result:void 0),c&6&&(o.time=((_=s[12])==null?void 0:_.status)==="resolved"?s[12].result.timeMs:((E=s[12])==null?void 0:E.status)==="started"?s[1]-s[12].time:void 0),e.$set(o)},i(u){t||($(e.$$.fragment,u),t=!0)},o(u){x(e.$$.fragment,u),t=!1},d(u){me(e,u)}}}function Pe(s,e){let t,i,l,n,r;const a=[Ot,Rt],u=[];function c(o,f){return o[11].type==="numbers"?0:o[11].type==="gameOfFifteens"?1:-1}return~(i=c(e))&&(l=u[i]=a[i](e)),{key:s,first:null,c(){t=be(),l&&l.c(),n=be(),this.h()},l(o){t=be(),l&&l.l(o),n=be(),this.h()},h(){this.first=t},m(o,f){v(o,t,f),~i&&u[i].m(o,f),v(o,n,f),r=!0},p(o,f){e=o;let p=i;i=c(e),i===p?~i&&u[i].p(e,f):(l&&(ye(),x(u[p],1,1,()=>{u[p]=null}),De()),~i?(l=u[i],l?l.p(e,f):(l=u[i]=a[i](e),l.c()),$(l,1),l.m(n.parentNode,n)):l=null)},i(o){r||($(l),r=!0)},o(o){x(l),r=!1},d(o){o&&(h(t),h(n)),~i&&u[i].d(o)}}}function Nt(s){let e,t,i,l=[],n=new Map,r;const a=s[6].default,u=Qe(a,s,s[5],He);let c=Ae(s[2]);const o=f=>f[10].task.taskId;for(let f=0;f<c.length;f+=1){let p=Le(s,c,f),_=o(p);n.set(_,l[f]=Pe(_,p))}return{c(){e=j("main"),u&&u.c(),t=X(),i=j("article");for(let f=0;f<l.length;f+=1)l[f].c();this.h()},l(f){e=F(f,"MAIN",{class:!0});var p=m(e);u&&u.l(p),t=Y(p),i=F(p,"ARTICLE",{class:!0});var _=m(i);for(let E=0;E<l.length;E+=1)l[E].l(_);_.forEach(h),p.forEach(h),this.h()},h(){d(i,"class","svelte-iygjh4"),d(e,"class","svelte-iygjh4")},m(f,p){v(f,e,p),u&&u.m(e,null),g(e,t),g(e,i);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(i,null);r=!0},p(f,[p]){u&&u.p&&(!r||p&32)&&Ge(u,a,f,f[5],r?xe(a,f[5],p,Bt):$e(f[5]),He),p&7&&(c=Ae(f[2]),ye(),l=st(l,p,o,1,f,c,n,i,tt,Pe,null,Le),De())},i(f){if(!r){$(u,f);for(let p=0;p<c.length;p+=1)$(l[p]);r=!0}},o(f){x(u,f);for(let p=0;p<l.length;p+=1)x(l[p]);r=!1},d(f){f&&h(e),u&&u.d(f);for(let p=0;p<l.length;p+=1)l[p].d()}}}function qt(s,e,t){let{$$slots:i={},$$scope:l}=e,{defaultTasks:n=[]}=e,r,a,u,c=[];function o(_){c.push({task:r.run(_),state:"queued"}),t(2,c)}et(()=>(t(0,r=new ot),u=setInterval(()=>{t(1,a=performance.now())},1e3/30),r.addEventListener("taskStatusUpdated",(_,E,y)=>{const B=c.find(z=>z.task.taskId===_.taskId);if(B){switch(E){case"updated":if(!y)return;B.state=y==null?void 0:y.status,B.result=y;break;case"canceled":B.state="canceled";break}t(2,c)}}),n.forEach(o),()=>{r.dispose(),clearInterval(u)}));const f=_=>r.cancel(_.task),p=_=>r.cancel(_.task);return s.$$set=_=>{"defaultTasks"in _&&t(4,n=_.defaultTasks),"$$scope"in _&&t(5,l=_.$$scope)},[r,a,c,o,n,l,i,f,p]}class Vt extends ce{constructor(e){super(),he(this,e,qt,Nt,fe,{defaultTasks:4})}}export{zt as E,se as G,Ut as H,ne as N,Vt as T,at as a,je as b,Ae as e,Te as f,K as p};
