var Je=Object.defineProperty;var Xe=(s,e,t)=>e in s?Je(s,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):s[e]=t;var ne=(s,e,t)=>Xe(s,typeof e!="symbol"?e+"":e,t);import{z as ve,s as ue,e as B,c as F,l as m,f as h,d,i as g,n as re,K as Ze,a as Z,b as Q,X as ie,o as k,r as Fe,x as se,y as Pe,Y as w,Z as C,_ as ae,A as Qe,t as O,m as R,p as G,$ as He,g as Ge,h as $e,u as xe,j as et,k as tt,E as st,C as me}from"./scheduler.BYFehk5M.js";import{a as ee,t as x,S as oe,i as fe,c as ce,b as he,m as de,d as pe,g as we,e as Ce}from"./index.uhzRvtBo.js";function ge(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}function rt(s,e){ee(s,1,1,()=>{e.delete(s.key)})}function nt(s,e,t,n,r,i,l,u,a,c,f,o){let p=s.length,_=i.length,v=p;const A={};for(;v--;)A[s[v].key]=v;const D=[],S=new Map,I=new Map,L=[];for(v=_;v--;){const M=o(r,i,v),V=t(M);let E=l.get(V);E?L.push(()=>E.p(M,e)):(E=c(V,M),E.c()),S.set(V,D[v]=E),V in A&&I.set(V,Math.abs(v-A[V]))}const H=new Set,$=new Set;function N(M){x(M,1),M.m(u,f),l.set(M.key,M),f=M.first,_--}for(;p&&_;){const M=D[_-1],V=s[p-1],E=M.key,q=V.key;M===V?(f=M.first,p--,_--):S.has(q)?!l.has(E)||H.has(E)?N(M):$.has(q)?p--:I.get(E)>I.get(q)?($.add(E),N(M)):(H.add(q),p--):(a(V,l),p--)}for(;p--;){const M=s[p];S.has(M.key)||a(M,l)}for(;_;)N(D[_-1]);return ve(L),D}class Ve{constructor(e,t=new ze(e,this)){this.n=e,this.inverse=t}apply(e){return e+this.n}correct(){return!0}toString(){return`+${this.n}`}}class ze{constructor(e,t=new Ve(e,this)){this.n=e,this.inverse=t}apply(e){return e-this.n}correct(){return!0}toString(){return`-${this.n}`}}class We{constructor(e,t=new lt(e,this)){this.n=e,this.inverse=t}apply(e){return e*this.n}correct(){return!0}toString(){return`*${this.n}`}}class lt{constructor(e,t=new We(e,this)){this.n=e,this.inverse=t}apply(e){return e/this.n}correct(e){return e%this.n===0}toString(){return`/${this.n}`}}var it=(s=>(s[s.BFS=0]="BFS",s[s.BFS_LIST=1]="BFS_LIST",s))(it||{}),at=(s=>(s[s.OBJECT=0]="OBJECT",s[s.TREE=1]="TREE",s[s.HASH=2]="HASH",s))(at||{});new We(2);new Ve(3);new ze(2);const Yt=[{start:1,finish:100,length:7},{start:2,finish:55,length:6},{start:2,finish:100,length:7},{start:1,finish:97,length:8},{start:2,finish:1e3,length:12},{start:2,finish:8e5,length:24},{start:2,finish:10000001,length:30}],Jt=[{start:1,finish:100,length:7},{start:2,finish:3,length:2},{start:2,finish:55,length:6},{start:2,finish:100,length:7},{start:1,finish:97,length:8},{start:2,finish:1e3,length:11},{start:3,finish:1001,length:13},{start:3,finish:3001,length:14},{start:2,finish:8e5,length:23},{start:2,finish:10000001,length:30}];function De(s,e,t){const n=s.slice();return n[8]=e[t],n[9]=e,n[10]=t,n}function ye(s){let e,t,n,r,i,l;function u(){s[4].call(t,s[9],s[10])}function a(...f){return s[5](s[10],...f)}function c(...f){return s[6](s[10],...f)}return{c(){e=B("div"),t=B("input"),r=Z(),this.h()},l(f){e=F(f,"DIV",{draggable:!0,class:!0});var o=m(e);t=F(o,"INPUT",{type:!0,class:!0}),r=Q(o),o.forEach(h),this.h()},h(){d(t,"type","number"),t.disabled=n=!s[1],d(t,"class","svelte-sttpqy"),d(e,"draggable",s[1]),d(e,"class","svelte-sttpqy"),ie(e,"odd",(s[8]||0)%2),ie(e,"empty",s[8]===null)},m(f,o){g(f,e,o),k(e,t),Fe(t,s[8]),k(e,r),i||(l=[se(t,"input",u),se(e,"dragstart",a),se(e,"drop",c),se(e,"dragover",ot)],i=!0)},p(f,o){s=f,o&2&&n!==(n=!s[1])&&(t.disabled=n),o&1&&Pe(t.value)!==s[8]&&Fe(t,s[8]),o&2&&d(e,"draggable",s[1]),o&1&&ie(e,"odd",(s[8]||0)%2),o&1&&ie(e,"empty",s[8]===null)},d(f){f&&h(e),i=!1,ve(l)}}}function ut(s){let e,t=ge(s[0]),n=[];for(let r=0;r<t.length;r+=1)n[r]=ye(De(s,t,r));return{c(){e=B("article");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=F(r,"ARTICLE",{class:!0});var i=m(e);for(let l=0;l<n.length;l+=1)n[l].l(i);i.forEach(h),this.h()},h(){d(e,"class","svelte-sttpqy")},m(r,i){g(r,e,i);for(let l=0;l<n.length;l+=1)n[l]&&n[l].m(e,null)},p(r,[i]){if(i&15){t=ge(r[0]);let l;for(l=0;l<t.length;l+=1){const u=De(r,t,l);n[l]?n[l].p(u,i):(n[l]=ye(u),n[l].c(),n[l].m(e,null))}for(;l<n.length;l+=1)n[l].d(1);n.length=t.length}},i:re,o:re,d(r){r&&h(e),Ze(n,r)}}}function ot(s){s.preventDefault()}function ft(s,e,t){let{position:n=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,null]}=e,{interactive:r=!1}=e,i=null;function l(o,p){i=o}function u(o,p){if(i===null)return;const _=n[i];t(0,n[i]=n[o],n),t(0,n[o]=_,n)}function a(o,p){o[p]=Pe(this.value),t(0,n)}const c=(o,p)=>l(o),f=(o,p)=>u(o);return s.$$set=o=>{"position"in o&&t(0,n=o.position),"interactive"in o&&t(1,r=o.interactive)},[n,r,l,u,a,c,f]}class ct extends oe{constructor(e){super(),fe(this,e,ft,ut,ue,{position:0,interactive:1})}}var Ke=(s=>(s[s.UP=0]="UP",s[s.RIGHT=1]="RIGHT",s[s.DOWN=2]="DOWN",s[s.LEFT=3]="LEFT",s))(Ke||{}),Ee=(s=>(s[s.BFS=0]="BFS",s[s.IDS_RECURSIVE=1]="IDS_RECURSIVE",s[s.IDS_RECURSIVE_ARRAY=2]="IDS_RECURSIVE_ARRAY",s[s.IDS_STACK=3]="IDS_STACK",s))(Ee||{});function ht(s){switch(s){case 0:return 2;case 1:return 3;case 2:return 0;case 3:return 1}return-1}class le{constructor(e,t){this.field=e,this.empty=t}static fromArray(e){let t=0;for(let n=0;n<16;n++)if(e[n]===0){t=n;break}return new le(e.slice(0),t)}static fromArrayUint(e){const t=new Uint8Array(16);let n=0;for(let r=0;r<16;r++)e[r]===0&&(n=r),t[r]=e[r];return new le(t,n)}canMove(e){const t=this.empty%4;switch(e){case 0:return this.empty>3;case 2:return this.empty<12;case 3:return t>0;case 1:return t<3}return!1}makeMove(e){return this.copy().makeMoveInPlace(e)}makeMoveInPlace(e){let t=this.empty;switch(e){case 0:t=this.empty-4;break;case 2:t=this.empty+4;break;case 3:t=this.empty-1;break;case 1:t=this.empty+1;break}return this.field[this.empty]=this.field[t],this.field[t]=0,this.empty=t,this}copy(){return new le(this.field.slice(0),this.empty)}hash64(){const e=this.field,t=BigInt(e[3]<<12|e[2]<<8|e[1]<<4|e[0]),n=BigInt(e[7]<<12|e[6]<<8|e[5]<<4|e[4]),r=BigInt(e[11]<<12|e[10]<<8|e[9]<<4|e[8]),i=BigInt(e[15]<<12|e[14]<<8|e[13]<<4|e[12]);return BigInt.asUintN(64,i<<48n|r<<32n|n<<16n|t)}isSolution(){if(this.empty!=15)return!1;for(let e=0;e<15;e++)if(this.field[e]!=e+1)return!1;return!0}}const te=class te{constructor(e,t){this.field=e,this.empty=t}static fromArray(e){let t=0;for(let r=0;r<16;r++)if(e[r]===0){t=r;break}const n=new le(e.slice(0),t);return new te(n.hash64(),t)}canMove(e){return te.canMove(this.empty,e)}static canMove(e,t){const n=e%4;switch(t){case 0:return e>3;case 2:return e<12;case 3:return n>0;case 1:return n<3}return!1}makeMove(e){const[t,n]=te.makeMove(this.field,this.empty,e);return new te(t,n)}static makeMove(e,t,n){let r=t;switch(n){case 0:r=t-4;break;case 2:r=t+4;break;case 3:r=t-1;break;case 1:r=t+1;break}const i=te.masks[r];let l=e&i;return l=l>>BigInt(r*4),l=l<<BigInt(t*4),e=e&~i|l,t=r,[e,t]}makeMoveInPlace(e){return[this.field,this.empty]=te.makeMove(this.field,this.empty,e),this}copy(){return new te(this.field,this.empty)}hash64(){return this.field}isSolution(){return this.field===te.solution}};ne(te,"masks",[]),ne(te,"solution",new le([1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,0],15).hash64());let be=te;for(let s=0;s<16;s++)be.masks[s]=0xfn<<BigInt(s*4);function W(s){return s.padEnd(16,"0").substring(0,16).split("").map(e=>parseInt(e,16))}function Se(s){return s.map(e=>(e||0).toString(16).toUpperCase()).join("")}const Xt=[{field:W("123456789ABCDEF0"),length:0},{field:W("1234067859ACDEBF"),length:5},{field:W("5134207896ACDEBF"),length:8},{field:W("16245A3709C8DEBF"),length:10},{field:W("1723068459ACDEBF"),length:13},{field:W("0723168459ACDEBF"),length:14},{field:W("7023168459ACDEBF"),length:15},{field:W("7203168459ACDEBF"),length:16},{field:W("7283160459ACDEBF"),length:17},{field:W("7283106459ACDEBF"),length:18},{field:W("12345678A0BE9FCD"),length:19},{field:W("51247308A6BE9FCD"),length:27},{field:W("F2345678A0BE91DC"),length:33},{field:W("75123804A6BE9FCD"),length:35},{field:W("75AB2C416D389F0E"),length:45},{field:W("04582E1DF79BCA36"),length:48},{field:W("FE169B4C0A73D852"),length:52},{field:W("D79F2E8A45106C3B"),length:55},{field:W("DBE87A2C91F65034"),length:58},{field:W("BAC0F478E19623D5"),length:61}];function dt(s){return new Worker(""+new URL("../workers/worker-D3AWtW62.js",import.meta.url).href,{name:s==null?void 0:s.name})}class pt{constructor(){ne(this,"worker");ne(this,"queue",[]);ne(this,"currentTask");ne(this,"idCounter",0);ne(this,"listeners",new Set);this.worker=this.restartWorker()}run(e){const t={taskId:this.idCounter++,task:e};return this.sendTask(t),t}cancel(e){if(this.currentTask===e)return this.restartWorker(),!0;const t=this.queue.findIndex(n=>n===e);return t==-1?!1:(this.queue.splice(t,1),this.emitEvent(e,"canceled"),!0)}addEventListener(e,t){this.listeners.add(t)}sendTask(e){if(this.queue.length||this.currentTask){this.queue.push(e);return}this.currentTask=e,this.worker.postMessage(e)}emitEvent(e,t,n){for(const r of this.listeners)r(e,t,n)}restartWorker(){return this.worker&&(this.worker.terminate(),this.currentTask&&(this.emitEvent(this.currentTask,"canceled"),this.currentTask=void 0)),this.worker=new dt,this.worker.onmessage=e=>{var n;const t=e.data;if(((n=this.currentTask)==null?void 0:n.taskId)!==t.taskId)throw new Error("Unexpected task");if(t.status==="started"&&(t.time=performance.now()),this.emitEvent(this.currentTask,"updated",t),t.status!="started"){if(this.currentTask=this.queue.shift(),!this.currentTask)return;this.worker.postMessage(this.currentTask)}},this.worker}dispose(){this.worker.terminate()}}function _t(s){let e;return{c(){e=O(s[0])},l(t){e=R(t,s[0])},m(t,n){g(t,e,n)},p(t,n){n&1&&G(e,t[0])},d(t){t&&h(e)}}}function mt(s){let e,t,n,r;return{c(){e=w("path"),t=w("path"),n=w("path"),r=w("path"),this.h()},l(i){e=C(i,"path",{stroke:!0,d:!0,fill:!0}),m(e).forEach(h),t=C(i,"path",{d:!0}),m(t).forEach(h),n=C(i,"path",{d:!0}),m(n).forEach(h),r=C(i,"path",{d:!0}),m(r).forEach(h),this.h()},h(){d(e,"stroke","none"),d(e,"d","M0 0h24v24H0z"),d(e,"fill","none"),d(t,"d","M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"),d(n,"d","M12 9v4"),d(r,"d","M12 16v.01")},m(i,l){g(i,e,l),g(i,t,l),g(i,n,l),g(i,r,l)},p:re,d(i){i&&(h(e),h(t),h(n),h(r))}}}function kt(s){let e,t,n,r,i,l,u,a,c,f;return{c(){e=w("path"),t=w("path"),n=w("path"),r=w("path"),i=w("path"),l=w("path"),u=w("path"),a=w("path"),c=w("path"),f=w("path"),this.h()},l(o){e=C(o,"path",{stroke:!0,d:!0,fill:!0}),m(e).forEach(h),t=C(o,"path",{d:!0}),m(t).forEach(h),n=C(o,"path",{d:!0}),m(n).forEach(h),r=C(o,"path",{d:!0}),m(r).forEach(h),i=C(o,"path",{d:!0}),m(i).forEach(h),l=C(o,"path",{d:!0}),m(l).forEach(h),u=C(o,"path",{d:!0}),m(u).forEach(h),a=C(o,"path",{d:!0}),m(a).forEach(h),c=C(o,"path",{d:!0}),m(c).forEach(h),f=C(o,"path",{d:!0}),m(f).forEach(h),this.h()},h(){d(e,"stroke","none"),d(e,"d","M0 0h24v24H0z"),d(e,"fill","none"),d(t,"d","M8.56 3.69a9 9 0 0 0 -2.92 1.95"),d(n,"d","M3.69 8.56a9 9 0 0 0 -.69 3.44"),d(r,"d","M3.69 15.44a9 9 0 0 0 1.95 2.92"),d(i,"d","M8.56 20.31a9 9 0 0 0 3.44 .69"),d(l,"d","M15.44 20.31a9 9 0 0 0 2.92 -1.95"),d(u,"d","M20.31 15.44a9 9 0 0 0 .69 -3.44"),d(a,"d","M20.31 8.56a9 9 0 0 0 -1.95 -2.92"),d(c,"d","M15.44 3.69a9 9 0 0 0 -3.44 -.69"),d(f,"d","M9 12l2 2l4 -4")},m(o,p){g(o,e,p),g(o,t,p),g(o,n,p),g(o,r,p),g(o,i,p),g(o,l,p),g(o,u,p),g(o,a,p),g(o,c,p),g(o,f,p)},p:re,d(o){o&&(h(e),h(t),h(n),h(r),h(i),h(l),h(u),h(a),h(c),h(f))}}}function gt(s){let e,t,n,r,i,l,u,a,c;return{c(){e=w("path"),t=w("path"),n=w("path"),r=w("path"),i=w("path"),l=w("path"),u=w("path"),a=w("path"),c=w("path"),this.h()},l(f){e=C(f,"path",{stroke:!0,d:!0,fill:!0}),m(e).forEach(h),t=C(f,"path",{d:!0}),m(t).forEach(h),n=C(f,"path",{d:!0}),m(n).forEach(h),r=C(f,"path",{d:!0}),m(r).forEach(h),i=C(f,"path",{d:!0}),m(i).forEach(h),l=C(f,"path",{d:!0}),m(l).forEach(h),u=C(f,"path",{d:!0}),m(u).forEach(h),a=C(f,"path",{d:!0}),m(a).forEach(h),c=C(f,"path",{d:!0}),m(c).forEach(h),this.h()},h(){d(e,"stroke","none"),d(e,"d","M0 0h24v24H0z"),d(e,"fill","none"),d(t,"d","M12 6l0 -3"),d(n,"d","M16.25 7.75l2.15 -2.15"),d(r,"d","M18 12l3 0"),d(i,"d","M16.25 16.25l2.15 2.15"),d(l,"d","M12 18l0 3"),d(u,"d","M7.75 16.25l-2.15 2.15"),d(a,"d","M6 12l-3 0"),d(c,"d","M7.75 7.75l-2.15 -2.15")},m(f,o){g(f,e,o),g(f,t,o),g(f,n,o),g(f,r,o),g(f,i,o),g(f,l,o),g(f,u,o),g(f,a,o),g(f,c,o)},p:re,d(f){f&&(h(e),h(t),h(n),h(r),h(i),h(l),h(u),h(a),h(c))}}}function vt(s){let e,t,n,r,i;return{c(){e=w("path"),t=w("path"),n=w("path"),r=w("path"),i=w("path"),this.h()},l(l){e=C(l,"path",{stroke:!0,d:!0,fill:!0}),m(e).forEach(h),t=C(l,"path",{d:!0}),m(t).forEach(h),n=C(l,"path",{d:!0}),m(n).forEach(h),r=C(l,"path",{d:!0}),m(r).forEach(h),i=C(l,"path",{d:!0}),m(i).forEach(h),this.h()},h(){d(e,"stroke","none"),d(e,"d","M0 0h24v24H0z"),d(e,"fill","none"),d(t,"d","M5 13a7 7 0 1 0 14 0a7 7 0 0 0 -14 0z"),d(n,"d","M14.5 10.5l-2.5 2.5"),d(r,"d","M17 8l1 -1"),d(i,"d","M14 3h-4")},m(l,u){g(l,e,u),g(l,t,u),g(l,n,u),g(l,r,u),g(l,i,u)},p:re,d(l){l&&(h(e),h(t),h(n),h(r),h(i))}}}function Et(s){let e,t,n;return{c(){e=w("path"),t=w("path"),n=w("path"),this.h()},l(r){e=C(r,"path",{stroke:!0,d:!0,fill:!0}),m(e).forEach(h),t=C(r,"path",{d:!0}),m(t).forEach(h),n=C(r,"path",{d:!0}),m(n).forEach(h),this.h()},h(){d(e,"stroke","none"),d(e,"d","M0 0h24v24H0z"),d(e,"fill","none"),d(t,"d","M3 12a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"),d(n,"d","M18.364 5.636l-12.728 12.728")},m(r,i){g(r,e,i),g(r,t,i),g(r,n,i)},p:re,d(r){r&&(h(e),h(t),h(n))}}}function bt(s){let e,t,n,r,i;function l(c,f){return c[2]||c[0]==="canceled"?Et:c[0]==="queued"?vt:c[0]==="started"?gt:c[0]==="resolved"?kt:c[0]==="error"?mt:_t}let u=l(s),a=u(s);return{c(){e=B("article"),t=w("svg"),a.c(),this.h()},l(c){e=F(c,"ARTICLE",{title:!0,style:!0});var f=m(e);t=C(f,"svg",{xmlns:!0,width:!0,height:!0,class:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var o=m(t);a.l(o),o.forEach(h),f.forEach(h),this.h()},h(){d(t,"xmlns","http://www.w3.org/2000/svg"),d(t,"width",ke),d(t,"height",ke),d(t,"class",n=ae(s[0])+" svelte-31ex68"),d(t,"viewBox","0 0 24 24"),d(t,"fill","none"),d(t,"stroke","currentColor"),d(t,"stroke-width","2"),d(t,"stroke-linecap","round"),d(t,"stroke-linejoin","round"),ie(t,"hover",s[2]),d(e,"title",s[1]),d(e,"style",`width:${ke}px;height:${ke}px;`)},m(c,f){g(c,e,f),k(e,t),a.m(t,null),r||(i=[se(e,"mouseenter",s[3]),se(e,"mouseleave",s[4]),se(e,"click",s[5])],r=!0)},p(c,[f]){u===(u=l(c))&&a?a.p(c,f):(a.d(1),a=u(c),a&&(a.c(),a.m(t,null))),f&1&&n!==(n=ae(c[0])+" svelte-31ex68")&&d(t,"class",n),f&5&&ie(t,"hover",c[2]),f&2&&d(e,"title",c[1])},i:re,o:re,d(c){c&&h(e),a.d(),r=!1,ve(i)}}}let ke=24;function wt(s,e,t){let{value:n}=e,r="";const i=Qe();let l=!1;function u(){t(2,l=n==="queued"||n==="started")}function a(){t(2,l=!1)}function c(){l&&i("cancel")}return s.$$set=f=>{"value"in f&&t(0,n=f.value)},s.$$.update=()=>{if(s.$$.dirty&1)switch(n){case"queued":t(1,r="В очереди");break;case"started":t(1,r="Вычисляем");break;case"canceled":t(1,r="Отменено");break;case"error":t(1,r="Произошла ошибка");break;case"resolved":t(1,r="Решено");break}},[n,r,l,u,a,c]}class Ye extends oe{constructor(e){super(),fe(this,e,wt,bt,ue,{value:0})}}function Ct(s){let e;return{c(){e=O("Обратный")},l(t){e=R(t,"Обратный")},m(t,n){g(t,e,n)},d(t){t&&h(e)}}}function Mt(s){let e;return{c(){e=O("Прямой")},l(t){e=R(t,"Прямой")},m(t,n){g(t,e,n)},d(t){t&&h(e)}}}function It(s){let e,t=s[2].operations.length+"",n,r,i=s[2].nodesVisited+"",l;return{c(){e=O("Длина решения: "),n=O(t),r=O(", узлов рассмотрено: "),l=O(i)},l(u){e=R(u,"Длина решения: "),n=R(u,t),r=R(u,", узлов рассмотрено: "),l=R(u,i)},m(u,a){g(u,e,a),g(u,n,a),g(u,r,a),g(u,l,a)},p(u,a){a&4&&t!==(t=u[2].operations.length+"")&&G(n,t),a&4&&i!==(i=u[2].nodesVisited+"")&&G(l,i)},d(u){u&&(h(e),h(n),h(r),h(l))}}}function Tt(s){let e;return{c(){e=O(s[3])},l(t){e=R(t,s[3])},m(t,n){g(t,e,n)},p(t,n){n&8&&G(e,t[3])},d(t){t&&h(e)}}}function je(s){let e,t,n=Oe(s[0].start,s[4].operations).join(`
`)+"",r;return{c(){e=B("article"),t=B("pre"),r=O(n),this.h()},l(i){e=F(i,"ARTICLE",{class:!0});var l=m(e);t=F(l,"PRE",{});var u=m(t);r=R(u,n),u.forEach(h),l.forEach(h),this.h()},h(){d(e,"class","svelte-hvr3jy")},m(i,l){g(i,e,l),k(e,t),k(t,r)},p(i,l){l&17&&n!==(n=Oe(i[0].start,i[4].operations).join(`
`)+"")&&G(r,n)},d(i){i&&h(e)}}}function At(s){let e,t,n,r,i,l,u,a,c,f=s[0].operations==="two"?"+3, *2":"+3, *2, -2",o,p,_,v,A,D=s[0].start+"",S,I,L=s[0].finish+"",H,$,N,M,V,E,q,K;r=new Ye({props:{value:s[1]}}),r.$on("cancel",s[9]);function U(T,z){return T[0].order==="forward"?Mt:Ct}let y=U(s),b=y(s);function P(T,z){if(T[3])return Tt;if(T[2])return It}let j=P(s),Y=j&&j(s),J=s[6]&&s[2]&&je(s);return{c(){e=B("main"),t=B("article"),n=B("section"),ce(r.$$.fragment),i=Z(),l=B("section"),u=O(s[5]),a=Z(),c=B("section"),o=O(f),p=Z(),_=B("section"),b.c(),v=Z(),A=B("section"),S=O(D),I=O(" → "),H=O(L),$=Z(),N=B("section"),Y&&Y.c(),V=Z(),J&&J.c(),this.h()},l(T){e=F(T,"MAIN",{class:!0});var z=m(e);t=F(z,"ARTICLE",{class:!0});var X=m(t);n=F(X,"SECTION",{class:!0});var Me=m(n);he(r.$$.fragment,Me),Me.forEach(h),i=Q(X),l=F(X,"SECTION",{class:!0});var Ie=m(l);u=R(Ie,s[5]),Ie.forEach(h),a=Q(X),c=F(X,"SECTION",{class:!0});var Te=m(c);o=R(Te,f),Te.forEach(h),p=Q(X),_=F(X,"SECTION",{class:!0});var Ae=m(_);b.l(Ae),Ae.forEach(h),v=Q(X),A=F(X,"SECTION",{class:!0});var _e=m(A);S=R(_e,D),I=R(_e," → "),H=R(_e,L),_e.forEach(h),$=Q(X),N=F(X,"SECTION",{class:!0});var Be=m(N);Y&&Y.l(Be),Be.forEach(h),X.forEach(h),V=Q(z),J&&J.l(z),z.forEach(h),this.h()},h(){d(n,"class","svelte-hvr3jy"),d(l,"class","status svelte-hvr3jy"),d(c,"class","operations svelte-hvr3jy"),d(_,"class","direction svelte-hvr3jy"),d(A,"class","task svelte-hvr3jy"),d(N,"class","svelte-hvr3jy"),d(t,"class",M=ae(`${s[2]?"clickable":""}`)+" svelte-hvr3jy"),d(e,"class","svelte-hvr3jy")},m(T,z){g(T,e,z),k(e,t),k(t,n),de(r,n,null),k(t,i),k(t,l),k(l,u),k(t,a),k(t,c),k(c,o),k(t,p),k(t,_),b.m(_,null),k(t,v),k(t,A),k(A,S),k(A,I),k(A,H),k(t,$),k(t,N),Y&&Y.m(N,null),k(e,V),J&&J.m(e,null),E=!0,q||(K=se(t,"click",s[7]),q=!0)},p(T,[z]){const X={};z&2&&(X.value=T[1]),r.$set(X),(!E||z&32)&&G(u,T[5]),(!E||z&1)&&f!==(f=T[0].operations==="two"?"+3, *2":"+3, *2, -2")&&G(o,f),y!==(y=U(T))&&(b.d(1),b=y(T),b&&(b.c(),b.m(_,null))),(!E||z&1)&&D!==(D=T[0].start+"")&&G(S,D),(!E||z&1)&&L!==(L=T[0].finish+"")&&G(H,L),j===(j=P(T))&&Y?Y.p(T,z):(Y&&Y.d(1),Y=j&&j(T),Y&&(Y.c(),Y.m(N,null))),(!E||z&4&&M!==(M=ae(`${T[2]?"clickable":""}`)+" svelte-hvr3jy"))&&d(t,"class",M),T[6]&&T[2]?J?J.p(T,z):(J=je(T),J.c(),J.m(e,null)):J&&(J.d(1),J=null)},i(T){E||(x(r.$$.fragment,T),E=!0)},o(T){ee(r.$$.fragment,T),E=!1},d(T){T&&h(e),pe(r),b.d(),Y&&Y.d(),J&&J.d(),q=!1,K()}}}function Oe(s,e){const t=[],n=Math.ceil(Math.log10(e.length));for(let r=0;r<e.length;r++){const i=e[r][0],l=Number(e[r].substring(1));let u=s;switch(i){case"+":u+=l;break;case"-":u-=l;break;case"*":u*=l;break;case"/":u/=l;break}t.push(`${(r+1).toString().padStart(n)}. ${s} ${i} ${l} = ${u}`),s=u}return t}function Bt(s,e,t){let{task:n}=e,{state:r}=e,{result:i}=e,{error:l}=e,{time:u}=e,a,c="В очереди",f=!1;const o=()=>{i&&t(6,f=!f)};function p(_){He.call(this,s,_)}return s.$$set=_=>{"task"in _&&t(0,n=_.task),"state"in _&&t(1,r=_.state),"result"in _&&t(2,i=_.result),"error"in _&&t(3,l=_.error),"time"in _&&t(8,u=_.time)},s.$$.update=()=>{if(s.$$.dirty&4&&t(4,a=i),s.$$.dirty&266)if(r==="canceled")t(5,c="Отменено");else if(u!==void 0)if(u>60*1e3){const _=u/6e4;t(5,c=`${_.toFixed(3)} мин.`)}else if(u>1e3){const _=u/1e3;t(5,c=`${_.toFixed(3)} сек.`)}else t(5,c=`${u.toFixed(2)} мсек.`);else l&&t(5,c="Ошибка")},[n,r,i,l,a,c,f,o,u,p]}class Ft extends oe{constructor(e){super(),fe(this,e,Bt,At,ue,{task:0,state:1,result:2,error:3,time:8})}}function Dt(s){let e,t,n,r,i,l,u,a,c,f,o,p,_,v=s[0].length+"",A,D,S,I,L,H,$,N,M,V;return t=new ct({props:{position:s[1].field.map(Re)}}),{c(){e=B("article"),ce(t.$$.fragment),n=Z(),r=B("footer"),i=B("button"),l=w("svg"),u=w("path"),a=w("path"),f=Z(),o=B("span"),p=O(s[2]),_=O("/"),A=O(v),D=Z(),S=B("button"),I=w("svg"),L=w("path"),H=w("path"),this.h()},l(E){e=F(E,"ARTICLE",{});var q=m(e);he(t.$$.fragment,q),n=Q(q),r=F(q,"FOOTER",{class:!0});var K=m(r);i=F(K,"BUTTON",{class:!0});var U=m(i);l=C(U,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var y=m(l);u=C(y,"path",{stroke:!0,d:!0,fill:!0}),m(u).forEach(h),a=C(y,"path",{d:!0}),m(a).forEach(h),y.forEach(h),U.forEach(h),f=Q(K),o=F(K,"SPAN",{});var b=m(o);p=R(b,s[2]),_=R(b,"/"),A=R(b,v),b.forEach(h),D=Q(K),S=F(K,"BUTTON",{class:!0});var P=m(S);I=C(P,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0,class:!0});var j=m(I);L=C(j,"path",{stroke:!0,d:!0,fill:!0}),m(L).forEach(h),H=C(j,"path",{d:!0}),m(H).forEach(h),j.forEach(h),P.forEach(h),K.forEach(h),q.forEach(h),this.h()},h(){d(u,"stroke","none"),d(u,"d","M0 0h24v24H0z"),d(u,"fill","none"),d(a,"d","M14 6l-6 6l6 6v-12"),d(l,"xmlns","http://www.w3.org/2000/svg"),d(l,"width","24"),d(l,"height","24"),d(l,"viewBox","0 0 24 24"),d(l,"fill","none"),d(l,"stroke","currentColor"),d(l,"stroke-width","2"),d(l,"stroke-linecap","round"),d(l,"stroke-linejoin","round"),d(l,"class","icon icon-tabler icons-tabler-outline icon-tabler-caret-left"),i.disabled=c=s[2]===0,d(i,"class","svelte-1nrysqq"),d(L,"stroke","none"),d(L,"d","M0 0h24v24H0z"),d(L,"fill","none"),d(H,"d","M10 18l6 -6l-6 -6v12"),d(I,"xmlns","http://www.w3.org/2000/svg"),d(I,"width","24"),d(I,"height","24"),d(I,"viewBox","0 0 24 24"),d(I,"fill","none"),d(I,"stroke","currentColor"),d(I,"stroke-width","2"),d(I,"stroke-linecap","round"),d(I,"stroke-linejoin","round"),d(I,"class","icon icon-tabler icons-tabler-outline icon-tabler-caret-right"),S.disabled=$=s[2]===s[0].length,d(S,"class","svelte-1nrysqq"),d(r,"class","svelte-1nrysqq")},m(E,q){g(E,e,q),de(t,e,null),k(e,n),k(e,r),k(r,i),k(i,l),k(l,u),k(l,a),k(r,f),k(r,o),k(o,p),k(o,_),k(o,A),k(r,D),k(r,S),k(S,I),k(I,L),k(I,H),N=!0,M||(V=[se(i,"click",s[4]),se(S,"click",s[3])],M=!0)},p(E,[q]){const K={};q&2&&(K.position=E[1].field.map(Re)),t.$set(K),(!N||q&4&&c!==(c=E[2]===0))&&(i.disabled=c),(!N||q&4)&&G(p,E[2]),(!N||q&1)&&v!==(v=E[0].length+"")&&G(A,v),(!N||q&5&&$!==($=E[2]===E[0].length))&&(S.disabled=$)},i(E){N||(x(t.$$.fragment,E),N=!0)},o(E){ee(t.$$.fragment,E),N=!1},d(E){E&&h(e),pe(t),M=!1,ve(V)}}}const Re=s=>s||null;function yt(s,e,t){let{start:n}=e,{operations:r}=e,i=le.fromArray(n),l=0;function u(){l<r.length&&(i.makeMoveInPlace(r[l]),t(1,i),t(2,l++,l))}function a(){l>0&&(t(2,l--,l),i.makeMoveInPlace(ht(r[l])),t(1,i))}return s.$$set=c=>{"start"in c&&t(5,n=c.start),"operations"in c&&t(0,r=c.operations)},[r,i,l,u,a,n]}class St extends oe{constructor(e){super(),fe(this,e,yt,Dt,ue,{start:5,operations:0})}}function jt(s){let e,t=s[2].operations.length+"",n,r,i=s[2].nodesVisited+"",l;return{c(){e=O("Длина решения: "),n=O(t),r=O(", узлов рассмотрено: "),l=O(i)},l(u){e=R(u,"Длина решения: "),n=R(u,t),r=R(u,", узлов рассмотрено: "),l=R(u,i)},m(u,a){g(u,e,a),g(u,n,a),g(u,r,a),g(u,l,a)},p(u,a){a&4&&t!==(t=u[2].operations.length+"")&&G(n,t),a&4&&i!==(i=u[2].nodesVisited+"")&&G(l,i)},d(u){u&&(h(e),h(n),h(r),h(l))}}}function Ot(s){let e;return{c(){e=O(s[3])},l(t){e=R(t,s[3])},m(t,n){g(t,e,n)},p(t,n){n&8&&G(e,t[3])},d(t){t&&h(e)}}}function Ne(s){let e,t,n,r,i=s[8](0,s[4].operations).join(`
`)+"",l,u;return t=new St({props:{start:s[0].start,operations:s[4].operations}}),{c(){e=B("article"),ce(t.$$.fragment),n=Z(),r=B("pre"),l=O(i),this.h()},l(a){e=F(a,"ARTICLE",{class:!0});var c=m(e);he(t.$$.fragment,c),n=Q(c),r=F(c,"PRE",{class:!0});var f=m(r);l=R(f,i),f.forEach(h),c.forEach(h),this.h()},h(){d(r,"class","svelte-1bit6ej"),d(e,"class","svelte-1bit6ej")},m(a,c){g(a,e,c),de(t,e,null),k(e,n),k(e,r),k(r,l),u=!0},p(a,c){const f={};c&1&&(f.start=a[0].start),c&16&&(f.operations=a[4].operations),t.$set(f),(!u||c&16)&&i!==(i=a[8](0,a[4].operations).join(`
`)+"")&&G(l,i)},i(a){u||(x(t.$$.fragment,a),u=!0)},o(a){ee(t.$$.fragment,a),u=!1},d(a){a&&h(e),pe(t)}}}function Rt(s){let e,t,n,r,i,l,u,a,c,f="Пятнашки",o,p,_=Ee[s[0].algorithm]+"",v,A,D,S=Se(s[0].start)+"",I,L,H,$,N,M,V,E;r=new Ye({props:{value:s[1]}}),r.$on("cancel",s[10]);function q(b,P){if(b[3])return Ot;if(b[2])return jt}let K=q(s),U=K&&K(s),y=s[6]&&s[2]&&Ne(s);return{c(){e=B("main"),t=B("article"),n=B("section"),ce(r.$$.fragment),i=Z(),l=B("section"),u=O(s[5]),a=Z(),c=B("section"),c.textContent=f,o=Z(),p=B("section"),v=O(_),A=Z(),D=B("section"),I=O(S),L=Z(),H=B("section"),U&&U.c(),N=Z(),y&&y.c(),this.h()},l(b){e=F(b,"MAIN",{class:!0});var P=m(e);t=F(P,"ARTICLE",{class:!0});var j=m(t);n=F(j,"SECTION",{class:!0});var Y=m(n);he(r.$$.fragment,Y),Y.forEach(h),i=Q(j),l=F(j,"SECTION",{class:!0});var J=m(l);u=R(J,s[5]),J.forEach(h),a=Q(j),c=F(j,"SECTION",{class:!0,"data-svelte-h":!0}),Ge(c)!=="svelte-o0jn4g"&&(c.textContent=f),o=Q(j),p=F(j,"SECTION",{class:!0});var T=m(p);v=R(T,_),T.forEach(h),A=Q(j),D=F(j,"SECTION",{class:!0});var z=m(D);I=R(z,S),z.forEach(h),L=Q(j),H=F(j,"SECTION",{class:!0});var X=m(H);U&&U.l(X),X.forEach(h),j.forEach(h),N=Q(P),y&&y.l(P),P.forEach(h),this.h()},h(){d(n,"class","svelte-1bit6ej"),d(l,"class","status svelte-1bit6ej"),d(c,"class","operations svelte-1bit6ej"),d(p,"class","direction svelte-1bit6ej"),d(D,"class","task svelte-1bit6ej"),d(H,"class","svelte-1bit6ej"),d(t,"class",$=ae(`${s[2]?"clickable":""}`)+" svelte-1bit6ej"),d(e,"class","svelte-1bit6ej")},m(b,P){g(b,e,P),k(e,t),k(t,n),de(r,n,null),k(t,i),k(t,l),k(l,u),k(t,a),k(t,c),k(t,o),k(t,p),k(p,v),k(t,A),k(t,D),k(D,I),k(t,L),k(t,H),U&&U.m(H,null),k(e,N),y&&y.m(e,null),M=!0,V||(E=se(t,"click",s[7]),V=!0)},p(b,[P]){const j={};P&2&&(j.value=b[1]),r.$set(j),(!M||P&32)&&G(u,b[5]),(!M||P&1)&&_!==(_=Ee[b[0].algorithm]+"")&&G(v,_),(!M||P&1)&&S!==(S=Se(b[0].start)+"")&&G(I,S),K===(K=q(b))&&U?U.p(b,P):(U&&U.d(1),U=K&&K(b),U&&(U.c(),U.m(H,null))),(!M||P&4&&$!==($=ae(`${b[2]?"clickable":""}`)+" svelte-1bit6ej"))&&d(t,"class",$),b[6]&&b[2]?y?(y.p(b,P),P&68&&x(y,1)):(y=Ne(b),y.c(),x(y,1),y.m(e,null)):y&&(we(),ee(y,1,1,()=>{y=null}),Ce())},i(b){M||(x(r.$$.fragment,b),x(y),M=!0)},o(b){ee(r.$$.fragment,b),ee(y),M=!1},d(b){b&&h(e),pe(r),U&&U.d(),y&&y.d(),V=!1,E()}}}function Nt(s,e,t){let{task:n}=e,{state:r}=e,{result:i}=e,{error:l}=e,{time:u}=e,a,c="В очереди",f=!1;const o=()=>{i&&t(6,f=!f)};function p(v,A){const D=[],S=Math.ceil(Math.log10(A.length));for(let I=0;I<A.length;I++){const L=Ke[A[I]];D.push(`${(I+1).toString().padStart(S)}. ${L}`)}return D}function _(v){He.call(this,s,v)}return s.$$set=v=>{"task"in v&&t(0,n=v.task),"state"in v&&t(1,r=v.state),"result"in v&&t(2,i=v.result),"error"in v&&t(3,l=v.error),"time"in v&&t(9,u=v.time)},s.$$.update=()=>{if(s.$$.dirty&4&&t(4,a=i),s.$$.dirty&522)if(r==="canceled")t(5,c="Отменено");else if(u!==void 0)if(u>60*1e3){const v=u/6e4;t(5,c=`${v.toFixed(3)} мин.`)}else if(u>1e3){const v=u/1e3;t(5,c=`${v.toFixed(3)} сек.`)}else t(5,c=`${u.toFixed(2)} мсек.`);else l&&t(5,c="Ошибка")},[n,r,i,l,a,c,f,o,p,u,_]}class qt extends oe{constructor(e){super(),fe(this,e,Nt,Rt,ue,{task:0,state:1,result:2,error:3,time:9})}}function qe(s,e,t){const n=s.slice();n[10]=e[t];const r=n[10].task.task;n[11]=r;const i=n[10].result;return n[12]=i,n}const Lt=s=>({}),Le=s=>({run:s[3]});function Ut(s){var r,i,l,u;let e,t;function n(){return s[8](s[10])}return e=new qt({props:{task:s[11],state:s[10].state,error:((r=s[12])==null?void 0:r.status)==="error"?s[12].error:void 0,result:((i=s[12])==null?void 0:i.status)==="resolved"?s[12].result:void 0,time:((l=s[12])==null?void 0:l.status)==="resolved"?s[12].result.timeMs:((u=s[12])==null?void 0:u.status)==="started"?s[1]-s[12].time:void 0}}),e.$on("cancel",n),{c(){ce(e.$$.fragment)},l(a){he(e.$$.fragment,a)},m(a,c){de(e,a,c),t=!0},p(a,c){var o,p,_,v;s=a;const f={};c&4&&(f.task=s[11]),c&4&&(f.state=s[10].state),c&4&&(f.error=((o=s[12])==null?void 0:o.status)==="error"?s[12].error:void 0),c&4&&(f.result=((p=s[12])==null?void 0:p.status)==="resolved"?s[12].result:void 0),c&6&&(f.time=((_=s[12])==null?void 0:_.status)==="resolved"?s[12].result.timeMs:((v=s[12])==null?void 0:v.status)==="started"?s[1]-s[12].time:void 0),e.$set(f)},i(a){t||(x(e.$$.fragment,a),t=!0)},o(a){ee(e.$$.fragment,a),t=!1},d(a){pe(e,a)}}}function Pt(s){var r,i,l,u;let e,t;function n(){return s[7](s[10])}return e=new Ft({props:{task:s[11],state:s[10].state,error:((r=s[12])==null?void 0:r.status)==="error"?s[12].error:void 0,result:((i=s[12])==null?void 0:i.status)==="resolved"?s[12].result:void 0,time:((l=s[12])==null?void 0:l.status)==="resolved"?s[12].result.timeMs:((u=s[12])==null?void 0:u.status)==="started"?s[1]-s[12].time:void 0}}),e.$on("cancel",n),{c(){ce(e.$$.fragment)},l(a){he(e.$$.fragment,a)},m(a,c){de(e,a,c),t=!0},p(a,c){var o,p,_,v;s=a;const f={};c&4&&(f.task=s[11]),c&4&&(f.state=s[10].state),c&4&&(f.error=((o=s[12])==null?void 0:o.status)==="error"?s[12].error:void 0),c&4&&(f.result=((p=s[12])==null?void 0:p.status)==="resolved"?s[12].result:void 0),c&6&&(f.time=((_=s[12])==null?void 0:_.status)==="resolved"?s[12].result.timeMs:((v=s[12])==null?void 0:v.status)==="started"?s[1]-s[12].time:void 0),e.$set(f)},i(a){t||(x(e.$$.fragment,a),t=!0)},o(a){ee(e.$$.fragment,a),t=!1},d(a){pe(e,a)}}}function Ue(s,e){let t,n,r,i,l;const u=[Pt,Ut],a=[];function c(f,o){return f[11].type==="numbers"?0:f[11].type==="gameOfFifteens"?1:-1}return~(n=c(e))&&(r=a[n]=u[n](e)),{key:s,first:null,c(){t=me(),r&&r.c(),i=me(),this.h()},l(f){t=me(),r&&r.l(f),i=me(),this.h()},h(){this.first=t},m(f,o){g(f,t,o),~n&&a[n].m(f,o),g(f,i,o),l=!0},p(f,o){e=f;let p=n;n=c(e),n===p?~n&&a[n].p(e,o):(r&&(we(),ee(a[p],1,1,()=>{a[p]=null}),Ce()),~n?(r=a[n],r?r.p(e,o):(r=a[n]=u[n](e),r.c()),x(r,1),r.m(i.parentNode,i)):r=null)},i(f){l||(x(r),l=!0)},o(f){ee(r),l=!1},d(f){f&&(h(t),h(i)),~n&&a[n].d(f)}}}function Ht(s){let e,t,n,r=[],i=new Map,l;const u=s[6].default,a=$e(u,s,s[5],Le);let c=ge(s[2]);const f=o=>o[10].task.taskId;for(let o=0;o<c.length;o+=1){let p=qe(s,c,o),_=f(p);i.set(_,r[o]=Ue(_,p))}return{c(){e=B("main"),a&&a.c(),t=Z(),n=B("article");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){e=F(o,"MAIN",{class:!0});var p=m(e);a&&a.l(p),t=Q(p),n=F(p,"ARTICLE",{class:!0});var _=m(n);for(let v=0;v<r.length;v+=1)r[v].l(_);_.forEach(h),p.forEach(h),this.h()},h(){d(n,"class","svelte-1amkhbn"),d(e,"class","svelte-1amkhbn")},m(o,p){g(o,e,p),a&&a.m(e,null),k(e,t),k(e,n);for(let _=0;_<r.length;_+=1)r[_]&&r[_].m(n,null);l=!0},p(o,[p]){a&&a.p&&(!l||p&32)&&xe(a,u,o,o[5],l?tt(u,o[5],p,Lt):et(o[5]),Le),p&7&&(c=ge(o[2]),we(),r=nt(r,p,f,1,o,c,i,n,rt,Ue,null,qe),Ce())},i(o){if(!l){x(a,o);for(let p=0;p<c.length;p+=1)x(r[p]);l=!0}},o(o){ee(a,o);for(let p=0;p<r.length;p+=1)ee(r[p]);l=!1},d(o){o&&h(e),a&&a.d(o);for(let p=0;p<r.length;p+=1)r[p].d()}}}function Vt(s,e,t){let{$$slots:n={},$$scope:r}=e,{defaultTasks:i=[]}=e,l,u,a,c=[];function f(_){c.push({task:l.run(_),state:"queued"}),t(2,c)}st(()=>(t(0,l=new pt),a=setInterval(()=>{t(1,u=performance.now())},1e3/30),l.addEventListener("taskStatusUpdated",(_,v,A)=>{const D=c.find(S=>S.task.taskId===_.taskId);if(D){switch(v){case"updated":if(!A)return;D.state=A==null?void 0:A.status,D.result=A;break;case"canceled":D.state="canceled";break}t(2,c)}}),i.forEach(f),()=>{l.dispose(),clearInterval(a)}));const o=_=>l.cancel(_.task),p=_=>l.cancel(_.task);return s.$$set=_=>{"defaultTasks"in _&&t(4,i=_.defaultTasks),"$$scope"in _&&t(5,r=_.$$scope)},[l,u,c,f,i,r,n,o,p]}class Zt extends oe{constructor(e){super(),fe(this,e,Vt,Ht,ue,{defaultTasks:4})}}export{Xt as E,Ee as G,it as S,Zt as T,at as a,Jt as b,Yt as c,ct as d,ge as e,Se as f,W as p};
